<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Alexander Ulizko</title>
 <link href="http://ulizko.com/atom.xml" rel="self"/>
 <link href="http://ulizko.com/"/>
 <updated>2012-07-02T20:56:51+04:00</updated>
 <id>http://ulizko.com/</id>
 <author>
   <name>Alexander Ulizko</name>
   <email>alexander@ulizko.com</email>
 </author>

 
 <entry>
   <title>MongoDB-based Backend::Store implementation for I18n gem</title>
   <link href="http://ulizko.com/posts/408/index.html"/>
   <updated>2010-12-28T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/408/408</id>
   <content type="html">&lt;p&gt;Currently I’m working on a web project on top of rails 3 and mongodb.&lt;/p&gt;

&lt;p&gt;Recently we faced the necessity of changing I18n backend from simple to something more dynamic (in fact, we wanted to allow the non-geeks from our team to participate in the internationalization process via web interface).&lt;/p&gt;

&lt;p&gt;I googled for &amp;#8220;mongodb i18n&amp;#8221;, &amp;#8220;mongo_mapper i18n&amp;#8221;, &amp;#8220;mongodb i18n backend&amp;#8221;, etc. and found nothing, so I wrote my own implementation of mongodb backend for I18n, called &lt;a href='https://github.com/aulizko/mongo-i18n'&gt;mongo-i18n&lt;/a&gt; (in fact, &amp;#171;wrote&amp;#187; is too strong a word&amp;#160;&amp;#8212; all that I needed to do was to implement three methods of the store interface:)&lt;/p&gt;

&lt;p&gt;You can grab the sources &lt;a href='https://github.com/aulizko/mongo-i18n'&gt;here&lt;/a&gt; or you can install the gem via command line:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;gem install mongo-i18n
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h4 id='usage'&gt;Usage:&lt;/h4&gt;

&lt;p&gt;I recommend to start with &lt;a href='https://github.com/svenfuchs/i18n/blob/master/lib/i18n/backend/chain.rb'&gt;Chain&lt;/a&gt; backend while mongodb collection is empty, and move to entirely mongodb-based backend when you populate your database with all I18n messages.&lt;/p&gt;

&lt;p&gt;Begin with:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='ruby'&gt;&lt;span class='n'&gt;collection&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;Mongo&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Connection&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;my_app_related_db&amp;#39;&lt;/span&gt;&lt;span class='o'&gt;].&lt;/span&gt;&lt;span class='n'&gt;collection&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;i18n&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='no'&gt;I18n&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;backend&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;I18n&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Backend&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Chain&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='no'&gt;I18n&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Backend&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;KeyValue&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='no'&gt;MongoI18n&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Store&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;collection&lt;/span&gt;&lt;span class='p'&gt;)),&lt;/span&gt; &lt;span class='no'&gt;I18n&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;backend&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;And finish with:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='ruby'&gt;&lt;span class='n'&gt;collection&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;Mongo&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Connection&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;my_app_related_db&amp;#39;&lt;/span&gt;&lt;span class='o'&gt;].&lt;/span&gt;&lt;span class='n'&gt;collection&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;i18n&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='no'&gt;I18n&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;backend&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;I18n&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Backend&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;KeyValue&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='no'&gt;MongoI18n&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Store&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;collection&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;If you are already using a mongodb ORM in your project (and I suppose you are, why else would you be reading this article? :), I recommend using the existing database connection.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='ruby'&gt;&lt;span class='n'&gt;collection&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;MongoMapper&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;database&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;collection&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;i18n&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='no'&gt;I18n&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;backend&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;I18n&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Backend&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;KeyValue&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='no'&gt;MongoI18n&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Store&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;collection&lt;/span&gt;&lt;span class='p'&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Free Christmas gift, the rake file to import en.yml into mongodb:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='ruby'&gt;&lt;span class='lineno'&gt; 1&lt;/span&gt; &lt;span class='c1'&gt;# usage:&lt;/span&gt;
&lt;span class='lineno'&gt; 2&lt;/span&gt; &lt;span class='c1'&gt;# bundle exec rake locale:file RAILS_ENV=production&lt;/span&gt;
&lt;span class='lineno'&gt; 3&lt;/span&gt; &lt;span class='c1'&gt;# if you want to export a different locale (not en.yml), provide locale option, as follows:&lt;/span&gt;
&lt;span class='lineno'&gt; 4&lt;/span&gt; &lt;span class='c1'&gt;# bundle exec rake locale:file RAILS_ENV=production locale=ru&lt;/span&gt;
&lt;span class='lineno'&gt; 5&lt;/span&gt; 
&lt;span class='lineno'&gt; 6&lt;/span&gt; &lt;span class='nb'&gt;require&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;mongo-i18n&amp;#39;&lt;/span&gt;
&lt;span class='lineno'&gt; 7&lt;/span&gt; 
&lt;span class='lineno'&gt; 8&lt;/span&gt; &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;write_to_database&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;sc&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;path&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;value&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='lineno'&gt; 9&lt;/span&gt;   &lt;span class='n'&gt;key&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;path&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;join&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='lineno'&gt;10&lt;/span&gt;   &lt;span class='n'&gt;sc&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='n'&gt;key&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='n'&gt;value&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;to_json&lt;/span&gt;
&lt;span class='lineno'&gt;11&lt;/span&gt; &lt;span class='k'&gt;end&lt;/span&gt;
&lt;span class='lineno'&gt;12&lt;/span&gt; 
&lt;span class='lineno'&gt;13&lt;/span&gt; &lt;span class='c1'&gt;# traverse through hash&lt;/span&gt;
&lt;span class='lineno'&gt;14&lt;/span&gt; &lt;span class='k'&gt;def&lt;/span&gt; &lt;span class='nf'&gt;traverse&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;sc&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;obj&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;path&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='lineno'&gt;15&lt;/span&gt;   &lt;span class='k'&gt;case&lt;/span&gt; &lt;span class='n'&gt;obj&lt;/span&gt;
&lt;span class='lineno'&gt;16&lt;/span&gt;   &lt;span class='k'&gt;when&lt;/span&gt; &lt;span class='no'&gt;Hash&lt;/span&gt;
&lt;span class='lineno'&gt;17&lt;/span&gt;     &lt;span class='n'&gt;obj&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt; &lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;k&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='n'&gt;v&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; 
&lt;span class='lineno'&gt;18&lt;/span&gt;       &lt;span class='n'&gt;traverse&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;sc&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;v&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;path&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='n'&gt;k&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; 
&lt;span class='lineno'&gt;19&lt;/span&gt;     &lt;span class='k'&gt;end&lt;/span&gt;
&lt;span class='lineno'&gt;20&lt;/span&gt;   &lt;span class='k'&gt;when&lt;/span&gt; &lt;span class='nb'&gt;Array&lt;/span&gt;
&lt;span class='lineno'&gt;21&lt;/span&gt;     &lt;span class='n'&gt;obj&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;each&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt;&lt;span class='n'&gt;v&lt;/span&gt;&lt;span class='o'&gt;|&lt;/span&gt; &lt;span class='n'&gt;traverse&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;sc&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;v&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;22&lt;/span&gt;   &lt;span class='k'&gt;else&lt;/span&gt; &lt;span class='c1'&gt;# end values&lt;/span&gt;
&lt;span class='lineno'&gt;23&lt;/span&gt;     &lt;span class='n'&gt;write_to_database&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;sc&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;path&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;obj&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='lineno'&gt;24&lt;/span&gt;   &lt;span class='k'&gt;end&lt;/span&gt;
&lt;span class='lineno'&gt;25&lt;/span&gt; &lt;span class='k'&gt;end&lt;/span&gt;
&lt;span class='lineno'&gt;26&lt;/span&gt; 
&lt;span class='lineno'&gt;27&lt;/span&gt; &lt;span class='n'&gt;namespace&lt;/span&gt; &lt;span class='ss'&gt;:locale&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt;
&lt;span class='lineno'&gt;28&lt;/span&gt;   &lt;span class='n'&gt;desc&lt;/span&gt; &lt;span class='o'&gt;&amp;lt;&amp;lt;-&lt;/span&gt;&lt;span class='no'&gt;eos&lt;/span&gt;
&lt;span class='lineno'&gt;29&lt;/span&gt; &lt;span class='sh'&gt;    Exports $app/config/locale/$locale.yml contents to mongodb database. &lt;/span&gt;
&lt;span class='lineno'&gt;30&lt;/span&gt; &lt;span class='sh'&gt;    If locale is not specified, default (en) locale file will be exported.&lt;/span&gt;
&lt;span class='lineno'&gt;31&lt;/span&gt; &lt;span class='no'&gt;  eos&lt;/span&gt;
&lt;span class='lineno'&gt;32&lt;/span&gt;   &lt;span class='n'&gt;task&lt;/span&gt; &lt;span class='ss'&gt;:file&lt;/span&gt; &lt;span class='k'&gt;do&lt;/span&gt;
&lt;span class='lineno'&gt;33&lt;/span&gt;     &lt;span class='n'&gt;locale&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;ENV&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;locale&amp;#39;&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt; &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;en&amp;quot;&lt;/span&gt;
&lt;span class='lineno'&gt;34&lt;/span&gt;     &lt;span class='n'&gt;environment&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;ENV&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;RAILS_ENV&amp;#39;&lt;/span&gt;&lt;span class='o'&gt;]&lt;/span&gt;   &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;development&amp;quot;&lt;/span&gt;
&lt;span class='lineno'&gt;35&lt;/span&gt;     &lt;span class='c1'&gt;# I keep mongodb connection descriptor in config/mongodb.yml&lt;/span&gt;
&lt;span class='lineno'&gt;36&lt;/span&gt;     &lt;span class='n'&gt;config&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;YAML&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='nb'&gt;load&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='no'&gt;File&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;read&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='no'&gt;Rails&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;root&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;join&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;config/mongodb.yml&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)))&lt;/span&gt;
&lt;span class='lineno'&gt;37&lt;/span&gt;     &lt;span class='n'&gt;collection&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;Mongo&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Connection&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='n'&gt;config&lt;/span&gt;&lt;span class='o'&gt;[&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;development&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;][&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;database&amp;quot;&lt;/span&gt;&lt;span class='o'&gt;]].&lt;/span&gt;&lt;span class='n'&gt;collection&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;i18n&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='lineno'&gt;38&lt;/span&gt;     &lt;span class='n'&gt;store&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;MongoI18n&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='no'&gt;Store&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;new&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;collection&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='lineno'&gt;39&lt;/span&gt;     
&lt;span class='lineno'&gt;40&lt;/span&gt;     &lt;span class='n'&gt;dump&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='no'&gt;YAML&lt;/span&gt;&lt;span class='o'&gt;::&lt;/span&gt;&lt;span class='nb'&gt;load&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='no'&gt;File&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;open&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='no'&gt;Rails&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;root&lt;/span&gt;&lt;span class='o'&gt;.&lt;/span&gt;&lt;span class='n'&gt;join&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;config&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;locales&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s2'&gt;&amp;quot;&lt;/span&gt;&lt;span class='si'&gt;#{&lt;/span&gt;&lt;span class='n'&gt;locale&lt;/span&gt;&lt;span class='si'&gt;}&lt;/span&gt;&lt;span class='s2'&gt;.yml&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)))&lt;/span&gt;
&lt;span class='lineno'&gt;41&lt;/span&gt; 
&lt;span class='lineno'&gt;42&lt;/span&gt;     &lt;span class='n'&gt;traverse&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='n'&gt;store&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='n'&gt;dump&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='o'&gt;[]&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='lineno'&gt;43&lt;/span&gt;   &lt;span class='k'&gt;end&lt;/span&gt;
&lt;span class='lineno'&gt;44&lt;/span&gt; &lt;span class='k'&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Any feedback would be welcome.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Quick tip for Intellij Idea users: manage your dependencies order</title>
   <link href="http://ulizko.com/posts/379/index.html"/>
   <updated>2010-12-01T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/379/379</id>
   <content type="html">&lt;p&gt;Recently I was developing project on top of Servlet API 3.0 and GWT 2.1 and faced the following problem: When I wanted to use async support from Servlet 3.0, &lt;a href='http://www.jetbrains.com/idea/'&gt;Idea&lt;/a&gt; was unable to resolve method startAsync for HttpServletRequest.&lt;/p&gt;

&lt;p&gt;Like this:&lt;/p&gt;
&lt;img alt='Resolving method failure' width='344' height='31' title='Resolving method failure' src='/release-201207022057/images/idea_dependencies/resolving_method_failure.png' /&gt;
&lt;p&gt;It turns out that gwt-dev-2.1.0.jar contains Servlet API 2.4 (looks like it comes with jetty or tomcat gwt dependencies) and &lt;a href='http://www.jetbrains.com/idea/'&gt;Idea&lt;/a&gt; uses it for inspections and autocomplete.&lt;/p&gt;

&lt;p&gt;Solution is simple: Check if servlet api 3.0 jar comes after gwt-dev-2.1.0.jar in yout project module dependencies (meta+; shortcut), like this:&lt;/p&gt;
&lt;img alt='Wrong dependency order' width='481' height='34' title='Wrong dependency order' src='/release-201207022057/images/idea_dependencies/wrong_dependency_order.png' /&gt;
&lt;p&gt;And swap them using &amp;#8220;Move Up&amp;#8221;|&amp;#8221;Move Down&amp;#8221; keys, than hit OK button. After that Idea will resolve Servlet API as expected:&lt;/p&gt;
&lt;img alt='Resolving method success' width='619' height='169' title='Resolving method success' src='/release-201207022057/images/idea_dependencies/resolving_method_success.png' /&gt;</content>
 </entry>
 
 <entry>
   <title>Strip firebug console api calls</title>
   <link href="http://ulizko.com/posts/371/index.html"/>
   <updated>2009-10-05T00:00:00+04:00</updated>
   <id>http://ulizko.com/posts/371/371</id>
   <content type="html">&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: После &lt;a href='http://habrahabr.ru/blogs/webdev/71586/'&gt;обсуждения&lt;/a&gt; на хабре и продолжительных размышлений на тему, решил отказаться от подобного метода. Думаю пересесть на &lt;a href='http://code.google.com/closure/compiler/'&gt;Google Closure Compiler&lt;/a&gt; и с его помощью обрезать debug-код, как расписано в &lt;a href='http://javascript.ru/optimize/google-closure-compiler/define'&gt;статье&lt;/a&gt; у Ильи Кантора. Так что этот пост подустарел и оставляю я его чисто для истории.&lt;/p&gt;

&lt;p&gt;На днях надо было сходить показать представителю заказчика, как пользоваться одной свежевстроенной в проект фичей. За полчаса до выхода подготовил новый билд, протестировал.&lt;/p&gt;

&lt;p&gt;По приезду оказалось, что у заказчика фича не работает. Неприятно получилось, в общем.&lt;/p&gt;

&lt;p&gt;Но радость ваша, мои дорогие читатели, была бы не полной, если бы я не сообщил вам, что там случилось и что я по этому поводу предпринял.&lt;/p&gt;

&lt;p&gt;Оказалось, что я забыл удалить в функции-обработчике события вызов firebug&amp;#8217;овской консоли (&lt;code&gt;console.log&lt;/code&gt;… и т.п.) Со мной вообще часто бывает такое, что я то какой-то символ, случайно ткнув на клавиатуру, допишу, то, наоборот, удалю - короче, использование редакторов без подсветки синтакса и (желательно) анализа структуры кода мне противопоказаны.&lt;/p&gt;

&lt;p&gt;Так как я использую apache ant для развертывания приложения на боевой сервер, я дописал маленький скриптик, который уберет все вызовы &lt;code lang='javascript'&gt;console.log(/* something */)&lt;/code&gt; или &lt;code lang='javascript'&gt;console.dir(/* something */)&lt;/code&gt; из вашего кода.&lt;/p&gt;

&lt;p&gt;Собственно, вот он:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='xml'&gt;&lt;span class='lineno'&gt; 1&lt;/span&gt; &lt;span class='cp'&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt; 2&lt;/span&gt; &lt;span class='nt'&gt;&amp;lt;project&lt;/span&gt; &lt;span class='na'&gt;name=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;deploy&amp;quot;&lt;/span&gt; &lt;span class='na'&gt;default=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;stripFirebugConsoleCalls&amp;quot;&lt;/span&gt; &lt;span class='na'&gt;basedir=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class='nt'&gt;&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt; 3&lt;/span&gt;     &lt;span class='c'&gt;&amp;lt;!-- место, где сложены наши еще не сжатые и не слитые в один js-скрипты --&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt; 4&lt;/span&gt;     &lt;span class='nt'&gt;&amp;lt;property&lt;/span&gt; &lt;span class='na'&gt;name=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;js&amp;quot;&lt;/span&gt; &lt;span class='na'&gt;value=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;js/&amp;quot;&lt;/span&gt;&lt;span class='nt'&gt;/&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt; 5&lt;/span&gt; 
&lt;span class='lineno'&gt; 6&lt;/span&gt;     &lt;span class='c'&gt;&amp;lt;!-- регулярка для отлова нездоровых элементов (беззастенчиво утянута с yui builder&amp;#39;a, и слегка доведена напильником)&lt;/span&gt;
&lt;span class='lineno'&gt; 7&lt;/span&gt; &lt;span class='c'&gt;        http://github.com/yui/builder/blob/master/componentbuild/shared/properties.xml 79-я строка --&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt; 8&lt;/span&gt;     &lt;span class='nt'&gt;&amp;lt;property&lt;/span&gt; &lt;span class='na'&gt;name=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;firebug.console.regex&amp;quot;&lt;/span&gt; &lt;span class='na'&gt;value=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;^.*?(?:console.log|console.dir).*?(?:;|\).*;|(?:\r?\n.*?)*?\).*;).*;?.*?\r?\n&amp;quot;&lt;/span&gt; &lt;span class='nt'&gt;/&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt; 9&lt;/span&gt;     &lt;span class='nt'&gt;&amp;lt;property&lt;/span&gt; &lt;span class='na'&gt;name=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;firebug.console.regex.flags&amp;quot;&lt;/span&gt; &lt;span class='na'&gt;value=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;mg&amp;quot;&lt;/span&gt; &lt;span class='nt'&gt;/&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt;10&lt;/span&gt;     &lt;span class='nt'&gt;&amp;lt;property&lt;/span&gt; &lt;span class='na'&gt;name=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;firebug.console.regex.byline&amp;quot;&lt;/span&gt; &lt;span class='na'&gt;value=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;false&amp;quot;&lt;/span&gt; &lt;span class='nt'&gt;/&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt;11&lt;/span&gt;     &lt;span class='nt'&gt;&amp;lt;property&lt;/span&gt; &lt;span class='na'&gt;name=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;firebug.console.regex.replace&amp;quot;&lt;/span&gt; &lt;span class='na'&gt;value=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class='nt'&gt;/&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt;12&lt;/span&gt; 
&lt;span class='lineno'&gt;13&lt;/span&gt;     &lt;span class='c'&gt;&amp;lt;!-- Сам таргет тоже без затей &amp;quot;вдохновен&amp;quot; YUI Builder&amp;#39;ом, оригинал тут:&lt;/span&gt;
&lt;span class='lineno'&gt;14&lt;/span&gt; &lt;span class='c'&gt;        http://github.com/yui/builder/blob/master/componentbuild/3.x/module.xml 19-я строка --&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt;15&lt;/span&gt;     &lt;span class='nt'&gt;&amp;lt;target&lt;/span&gt; &lt;span class='na'&gt;name=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;stripFirebugConsoleCalls&amp;quot;&lt;/span&gt; &lt;span class='na'&gt;description=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;Replace firebug console calls&amp;quot;&lt;/span&gt;&lt;span class='nt'&gt;&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt;16&lt;/span&gt;         &lt;span class='nt'&gt;&amp;lt;replaceregexp&lt;/span&gt; &lt;span class='na'&gt;byline=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;${firebug.console.regex.byline}&amp;quot;&lt;/span&gt;
&lt;span class='lineno'&gt;17&lt;/span&gt;                        &lt;span class='na'&gt;match=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;${firebug.console.regex}&amp;quot;&lt;/span&gt;
&lt;span class='lineno'&gt;18&lt;/span&gt;                        &lt;span class='na'&gt;replace=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;${firebug.console.regex.replace}&amp;quot;&lt;/span&gt;
&lt;span class='lineno'&gt;19&lt;/span&gt;                        &lt;span class='na'&gt;flags=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;${firebug.console.regex.flags}&amp;quot;&lt;/span&gt;&lt;span class='nt'&gt;&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt;20&lt;/span&gt;             &lt;span class='nt'&gt;&amp;lt;fileset&lt;/span&gt; &lt;span class='na'&gt;dir=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;${js}&amp;quot;&lt;/span&gt; &lt;span class='na'&gt;includes=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;*.js&amp;quot;&lt;/span&gt; &lt;span class='nt'&gt;/&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt;21&lt;/span&gt;         &lt;span class='nt'&gt;&amp;lt;/replaceregexp&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt;22&lt;/span&gt;     &lt;span class='nt'&gt;&amp;lt;/target&amp;gt;&lt;/span&gt;
&lt;span class='lineno'&gt;23&lt;/span&gt; &lt;span class='nt'&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Использовать так: создать xml-файл с удобным вам именем (например, boom.xml) и скопипастить в него этот код. Разумеется, стоит поправить значение переменной js, которая указывает на папку с еще не сжатыми js-скриптами. После этого запускаем адскую машину такой командой (для *nix):&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;ant stripFirebugConsoleCalls -buildfile /path/to/boom.xml
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Вот и все. Засим я откланиваюсь до следующего ЧП или конца проекта.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Перестановки</title>
   <link href="http://ulizko.com/posts/351/index.html"/>
   <updated>2009-03-17T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/351/351</id>
   <content type="html">&lt;p&gt;Дорогие мои марсиане. Сограждане. Я принял решение, и оно далось мне нелегко.&lt;/p&gt;

&lt;p&gt;Перед тем, как его огласить, я позволю себе небольшой экскурс в историю, с тем, чтобы как можно полнее представить вам причины, которые вынудили поступить меня именно так, и никак иначе.&lt;/p&gt;

&lt;p&gt;Во-первых, уже достаточно давно меня раздражает движок wordpress, на котором имеет несчастие крутиться этот несчастный блог. Долго полнилась чаша моего терпения, и наконец переполнилась.&lt;/p&gt;

&lt;p&gt;Во-вторых, от многих из вас до меня доходят сигналы, что было бы неплохо как-то разделить статьи технического плана и посты &amp;#8220;про остальное&amp;#8221;. И слова ваши доходили до моего сердца и наконец нашли в нем отклик.&lt;/p&gt;

&lt;p&gt;В-третьих, меня уже давно не устраивает низкая посещаемость - почти все программисты (и особенно java/javascript программисты) общаются на англоязычных ресурсах. К слову сказать, все средства для ведения мультиязычного блога на wordpress откровенно убоги. Это, так сказать, еще одно &amp;#8220;фи&amp;#8221; в сторону wrordpress&amp;#8217;a.&lt;/p&gt;

&lt;p&gt;В общем, исходя из всего вышенаписанного, я думаю, что правильнее всего будет сделать следующее: &lt;ul&gt;
	&lt;li&gt; Разделить блог на две части: лытдыбр (под которую уже выделен отдельный блог по адресу &lt;a href='http://ulizko.name'&gt;http://ulizko.name&lt;/a&gt;) и т.н. &quot;технические статьи&quot;, которые останутся по этому адресу.&lt;/li&gt;
	&lt;li&gt; Весь блог будет вестись на английском языке. Тому есть две причины: первая это та, что англоговорящих программистов (т.е. людей, которым интересен этот контент) в разы больше, чем русскоговорящих, а значит, я смогу делиться мыслями с гораздо большим количеством народа, что, откровенно говоря, меня заводит. И вторая - я смогу поднять свой уровень английского языка, что также лишним не будет. Будут ли доступны в том или ином виде тексты статей на русском - пока не знаю, сообщу дополнительно.&lt;/li&gt;
	&lt;li&gt; Будет проведен редизайн блога. Просто так, потому что мне того хочется.&lt;/li&gt;
	&lt;li&gt; Блог будет переведен на другую, самописную платформу. Как говорится, сделанное своими руками колесо - самое круглое колесо в мире! Опять же, есть несколько интересных задумок, которые очень и очень сложно реализовать на базе wordpress'a.&lt;/li&gt;
&lt;/ul&gt; Что же требуется от вас, читателей? &lt;ul&gt;
	&lt;li&gt;Если вы читаете блог ради технических статей - стэй, как говорится, тюнд. Между постами будет нехилый перерыв, думаю, с месяц, но потом все наладится. Правда, будет уже на английском языке. И rss будет тот же.&lt;/li&gt;
	&lt;li&gt; А вот если вам нравятся все остальные посты, то вам нужно подписываться на &lt;a href='http://ulizko.name/rss.xml'&gt;rss&lt;/a&gt; от ulizko.name. Напоминаю, все посты, не относящиеся к IT, будут перенесены в &lt;a href='http://ulizko.name'&gt;http://ulizko.name&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Невпопад</title>
   <link href="http://ulizko.com/posts/360/index.html"/>
   <updated>2009-03-16T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/360/360</id>
   <content type="html">&lt;p&gt;Хочу в отпуск. Так хочу, что меня все раздражает.&lt;/p&gt;

&lt;p&gt;GC в ruby в сто раз примитивнее того, что используется в jvm. Ц-ц-ц.&lt;/p&gt;

&lt;p&gt;И еще меня начинает раздражать &amp;#8220;мусорность&amp;#8221; javascript. Я имею ввиду, что, в целом, многие ништяки из ФЯП можно реализовать и в javascript, но на java-подобный синтакс такие штуки не очень хорошо ложатся:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='javascript'&gt;&lt;span class='lineno'&gt; 1&lt;/span&gt; &lt;span class='c1'&gt;// пусть ArrayUtils - это специальная утилита для работы с массивами, &lt;/span&gt;
&lt;span class='lineno'&gt; 2&lt;/span&gt; &lt;span class='c1'&gt;// реализующая for…each, map/reduce для всех браузеров, включая ie6. &lt;/span&gt;
&lt;span class='lineno'&gt; 3&lt;/span&gt; &lt;span class='c1'&gt;// Что-то наподобие YUI.Array&lt;/span&gt;
&lt;span class='lineno'&gt; 4&lt;/span&gt; &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;A&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;ArrayUtils&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 5&lt;/span&gt;     &lt;span class='nx'&gt;map&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;Array&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;prototype&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;map&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;?&lt;/span&gt;
&lt;span class='lineno'&gt; 6&lt;/span&gt;         &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;c&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 7&lt;/span&gt;             &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;map&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;c&lt;/span&gt; &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 8&lt;/span&gt;         &lt;span class='p'&gt;}&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt;
&lt;span class='lineno'&gt; 9&lt;/span&gt;         &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;c&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;10&lt;/span&gt;             &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;result&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;[],&lt;/span&gt; &lt;span class='nx'&gt;i&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;length&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;11&lt;/span&gt;             &lt;span class='k'&gt;while&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt;&lt;span class='o'&gt;--&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;12&lt;/span&gt;                 &lt;span class='nx'&gt;result&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt;&lt;span class='p'&gt;]&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;call&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;c&lt;/span&gt; &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt;&lt;span class='p'&gt;]);&lt;/span&gt;
&lt;span class='lineno'&gt;13&lt;/span&gt;             &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;14&lt;/span&gt;             &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='nx'&gt;result&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;15&lt;/span&gt;         &lt;span class='p'&gt;},&lt;/span&gt;
&lt;span class='lineno'&gt;16&lt;/span&gt;     &lt;span class='nx'&gt;filter&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;Array&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;prototype&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;filter&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;?&lt;/span&gt;
&lt;span class='lineno'&gt;17&lt;/span&gt;         &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;c&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;18&lt;/span&gt;             &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;filter&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;c&lt;/span&gt; &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;19&lt;/span&gt;         &lt;span class='p'&gt;}&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt;
&lt;span class='lineno'&gt;20&lt;/span&gt;         &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;func&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;c&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;21&lt;/span&gt;             &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;result&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;[],&lt;/span&gt; &lt;span class='nx'&gt;i&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;length&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;22&lt;/span&gt;             &lt;span class='k'&gt;while&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt;&lt;span class='o'&gt;--&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;23&lt;/span&gt;                 &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt; &lt;span class='k'&gt;in&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt; &lt;span class='o'&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;call&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;c&lt;/span&gt; &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt;&lt;span class='p'&gt;],&lt;/span&gt; &lt;span class='nx'&gt;i&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;))&lt;/span&gt; &lt;span class='nx'&gt;result&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;push&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt;&lt;span class='p'&gt;]);&lt;/span&gt;
&lt;span class='lineno'&gt;24&lt;/span&gt;             &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;25&lt;/span&gt;             &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='nx'&gt;result&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;26&lt;/span&gt;         &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;27&lt;/span&gt; &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;28&lt;/span&gt; 
&lt;span class='lineno'&gt;29&lt;/span&gt; &lt;span class='c1'&gt;// получим новый массив, получаемый из исходного путем умножения каждого элемента на два.&lt;/span&gt;
&lt;span class='lineno'&gt;30&lt;/span&gt; &lt;span class='c1'&gt;// уже немножко &amp;quot;weird&amp;quot;, не так ли?&lt;/span&gt;
&lt;span class='lineno'&gt;31&lt;/span&gt; &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;data&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='mi'&gt;1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='mi'&gt;2&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='mi'&gt;3&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='mi'&gt;4&lt;/span&gt;&lt;span class='p'&gt;];&lt;/span&gt;
&lt;span class='lineno'&gt;32&lt;/span&gt; &lt;span class='nx'&gt;A&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;map&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;data&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;item&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='nx'&gt;item&lt;/span&gt; &lt;span class='o'&gt;*&lt;/span&gt; &lt;span class='mi'&gt;2&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='p'&gt;});&lt;/span&gt; &lt;span class='c1'&gt;// 2, 4, 6, 8&lt;/span&gt;
&lt;span class='lineno'&gt;33&lt;/span&gt; 
&lt;span class='lineno'&gt;34&lt;/span&gt; &lt;span class='c1'&gt;// а теперь пример повеселее:&lt;/span&gt;
&lt;span class='lineno'&gt;35&lt;/span&gt; &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;persons&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;[&lt;/span&gt;
&lt;span class='lineno'&gt;36&lt;/span&gt; 	&lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;37&lt;/span&gt; 		&lt;span class='nx'&gt;name&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;John&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; 
&lt;span class='lineno'&gt;38&lt;/span&gt; 		&lt;span class='nx'&gt;lastName&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;Doe&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt;39&lt;/span&gt; 		&lt;span class='nx'&gt;address&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;California, Los Angeles&amp;#39;&lt;/span&gt;
&lt;span class='lineno'&gt;40&lt;/span&gt; 	&lt;span class='p'&gt;},&lt;/span&gt;
&lt;span class='lineno'&gt;41&lt;/span&gt; 	&lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;42&lt;/span&gt; 		&lt;span class='nx'&gt;name&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;Ivan&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt;43&lt;/span&gt; 		&lt;span class='nx'&gt;lastName&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;Ivanov&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt;44&lt;/span&gt; 		&lt;span class='nx'&gt;address&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;Moscow&amp;#39;&lt;/span&gt;
&lt;span class='lineno'&gt;45&lt;/span&gt; 	&lt;span class='p'&gt;},&lt;/span&gt;
&lt;span class='lineno'&gt;46&lt;/span&gt; 	&lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;47&lt;/span&gt; 		&lt;span class='nx'&gt;name&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;Abraham&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt;48&lt;/span&gt; 		&lt;span class='nx'&gt;lastName&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;Smith&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt;49&lt;/span&gt; 		&lt;span class='nx'&gt;address&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;California, San Francisco&amp;#39;&lt;/span&gt;
&lt;span class='lineno'&gt;50&lt;/span&gt; 	&lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;51&lt;/span&gt; &lt;span class='p'&gt;];&lt;/span&gt;
&lt;span class='lineno'&gt;52&lt;/span&gt; 
&lt;span class='lineno'&gt;53&lt;/span&gt; &lt;span class='c1'&gt;// Получим массив, состоящий только из полных имен пользователей, проживающих в калифорнии&lt;/span&gt;
&lt;span class='lineno'&gt;54&lt;/span&gt; &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;townRegex&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='sr'&gt;/california/i&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;55&lt;/span&gt; &lt;span class='nx'&gt;A&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;map&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;A&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;filter&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;persons&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;person&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;56&lt;/span&gt;     &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='nx'&gt;townRegex&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;test&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;person&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;address&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;57&lt;/span&gt; &lt;span class='p'&gt;}),&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;person&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;58&lt;/span&gt;     &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='nx'&gt;person&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;name&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39; &amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;person&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;lastName&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;59&lt;/span&gt; &lt;span class='p'&gt;});&lt;/span&gt; &lt;span class='c1'&gt;// John Doe, Abraham Smith&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Чрезвычайно избыточный и непонятный с непривычки код, особенно в сравнении с аналогичным в ruby или python.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>manual written if</title>
   <link href="http://ulizko.com/posts/346/index.html"/>
   <updated>2009-03-15T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/346/346</id>
   <content type="html">&lt;p&gt;Как многие из&amp;#160;вас в&amp;#160;курсе, на&amp;#160;днях на&amp;#160;хабре промелькнул топик &amp;#171;&lt;a href='http://habrahabr.ru/blogs/i_am_clever/54210/'&gt;Как я&amp;nbsp;гонял на&amp;nbsp;клаве&lt;/a&gt;&amp;#187;, от&amp;#160;хабраюзера &lt;a href='http://jahson.habrahabr.ru/'&gt;jahson&lt;/a&gt;. Примечателен этот топик вовсе не&amp;#160;своим скриптом, а&amp;#160;тем, что дал старт достаточно неприятной сваре, в&amp;#160;ходе которой владелец и&amp;#160;автор &amp;#171;&lt;a href='http://klavogonki.ru/'&gt;Клавогонок&lt;/a&gt;&amp;#187;, известный на&amp;#160;хабре как &lt;a href='http://artch.habrahabr.ru/'&gt;artch&lt;/a&gt;, повел себя, на&amp;#160;мой взгляд, не&amp;#160;вполне адекватно. Это не&amp;#160;говоря уж&amp;#160;о&amp;#160;том, что решать такие вопросы принято в&amp;#160;личке, не&amp;#160;привлекая общественное мнение (которое, к&amp;#160;слову, катком прошлось по&amp;#160;карме artch).&lt;/p&gt;

&lt;p&gt;По&amp;#160;мере того, как я&amp;#160;читал обсуждение, мне все больше становилось жаль jahson&amp;#146;a,&amp;#160;по&amp;#160;мере сил отбивавшегося от&amp;#160;нападок автора и&amp;#160;присных. И&amp;#160;в&amp;#160;процессе этого сочуствования решил я&amp;#160;поднять jahson&amp;#146;у&amp;#160;карму, зайдя в&amp;#160;его личку. Где увидел не&amp;#160;только то,&amp;#160;что он&amp;#160;не&amp;#160;особо нуждается в&amp;#160;помощи, но&amp;#160;и&amp;#160;то,&amp;#160;что он&amp;#160;член &amp;#171;Российского крыла Web Standards Group&amp;#187;.&lt;/p&gt;

&lt;p&gt;Тут надо сделать отступление &amp;#8212; я,&amp;#160;вообще говоря, не&amp;#160;знал о&amp;#160;существовании такой организации, точнее, о&amp;#160;существовании ее&amp;#160;российского крыла, и&amp;#160;немедленно заинтересовался. Набрав в&amp;#160;гугле известное сочетание слов, я&amp;#160;попал на&amp;#160;страничку &amp;#171;&lt;a href='http://web-standards.ru/'&gt;Веб-стандарты &amp;mdash; WSG-Россия&lt;/a&gt;&amp;#187;. Интересно, можно&amp;#160;ли еще попасть в&amp;#160;ряды, или лавочка уже прикрыта? Судя по&amp;#160;тому, что последние встречи проводились в&amp;#160;2007&amp;#160;году, то&amp;#160;уже нет, но,&amp;#160;если кто-то владеет более актуальной информацией, призываю его поделиться.&lt;/p&gt;

&lt;p&gt;Внизу главной странички есть калейдоскоп ссылок под названием &amp;#171;список контактных лиц&amp;#187;, и,&amp;#160;если пройти по&amp;#160;ним, то&amp;#160;выяснится, что за&amp;#160;ними скрываются очень знакомые и&amp;#160;авторитетные люди и&amp;#160;ресурсы. Люди, в&amp;#160;той или иной степени определяющие сегодняшний облик рунета. Например, по&amp;#160;тому&amp;#160;же webmascon лично я&amp;#160;учился верстке.&lt;/p&gt;

&lt;p&gt;Отдельно хотелось&amp;#160;бы упомянуть Дмитрия Барановского, который, к&amp;#160;слову, присутствует и&amp;#160;на&amp;#160;хабре под псевдонимом&amp;#8230; &lt;a href='http://DmitryBaranovskiy.habrahabr.ru/'&gt;DmitryBaranovskiy&lt;/a&gt; (сюрприз!) и,&amp;#160;по&amp;#160;совместительству, является разработчиком &lt;a href='http://raphaeljs.com/'&gt;Rapha&amp;#235;l&amp;mdash;JavaScript Library&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Читая его &lt;a href='http://dmitry.baranovskiy.com/'&gt;блог&lt;/a&gt;, я&amp;#160;наткнулся на&amp;#160;его пост &amp;#171;&lt;a href='http://dmitry.baranovskiy.com/post/40514291'&gt;JavaScript Without &amp;#132;if&amp;#147;&lt;/a&gt;&amp;#187;, и&amp;#160;вспомнил, что у&amp;#160;меня валяется в&amp;#160;загашниках очень похожая штука:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='javascript'&gt;&lt;span class='lineno'&gt; 1&lt;/span&gt; &lt;span class='nx'&gt;IF&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 2&lt;/span&gt;     &lt;span class='s1'&gt;&amp;#39;true&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 3&lt;/span&gt;         &lt;span class='nx'&gt;alert&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;true&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 4&lt;/span&gt;     &lt;span class='p'&gt;},&lt;/span&gt;
&lt;span class='lineno'&gt; 5&lt;/span&gt;     &lt;span class='s1'&gt;&amp;#39;false&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 6&lt;/span&gt;         &lt;span class='nx'&gt;alert&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;false&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='lineno'&gt; 7&lt;/span&gt;     &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt; 8&lt;/span&gt; &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt; 9&lt;/span&gt; 
&lt;span class='lineno'&gt;10&lt;/span&gt; &lt;span class='nx'&gt;IF&lt;/span&gt;&lt;span class='p'&gt;[(&lt;/span&gt;&lt;span class='mi'&gt;5&lt;/span&gt; &lt;span class='o'&gt;&amp;lt;&lt;/span&gt; &lt;span class='mi'&gt;4&lt;/span&gt;&lt;span class='p'&gt;)]();&lt;/span&gt; &lt;span class='c1'&gt;// should be false&lt;/span&gt;
&lt;span class='lineno'&gt;11&lt;/span&gt; 
&lt;span class='lineno'&gt;12&lt;/span&gt; &lt;span class='nx'&gt;IF&lt;/span&gt;&lt;span class='p'&gt;[(&lt;/span&gt;&lt;span class='k'&gt;typeof&lt;/span&gt; &lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;UnusualAndStrangeProperty&lt;/span&gt; &lt;span class='o'&gt;===&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)]();&lt;/span&gt; &lt;span class='c1'&gt;// should be true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Думаю, как это работает, очевидно, поэтому я&amp;#160;хочу заострить внимание на&amp;#160;другом: такая конструкция, по&amp;#160;идее, должна работать достаточно быстро, так как доступ к&amp;#160;свойствам объекта в&amp;#160;javascript очень быстр. Правда, в&amp;#160;таком случае мы&amp;#160;платим памятью за&amp;#160;скорость. И&amp;#160;действительно, тесты в&amp;#160;safari показывают, что этот код лишь чуть-чуть медленнее классической конструкции if&amp;#8230; else. Про остальные браузеры ничего не&amp;#160;могу сказать, так как всесторонним тестированием не&amp;#160;занимался &amp;#8212; да&amp;#160;и&amp;#160;не&amp;#160;стоит оно того, это&amp;#160;же чисто proof of&amp;#160;concept.&lt;/p&gt;

&lt;p&gt;В&amp;#160;общем, как обычно, гибкость javascript достойна всяческих похвал. Если в&amp;#160;этом языке чего-то не&amp;#160;хватает, то&amp;#160;это что-то легко может быть дописано руками.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>По горячим следам: запись скринкаста</title>
   <link href="http://ulizko.com/posts/338/index.html"/>
   <updated>2009-02-22T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/338/338</id>
   <content type="html">&lt;p&gt;Вчера я потратил вечер, записывая скринкаст. Нервов было израсходовано много, и в этом посте я собираюсь поделиться с вами своими впечатлениями от процесса и размышлениями на тему.&lt;/p&gt;

&lt;p&gt;Итак. Что касается виновника торжества, то вот он:&lt;/p&gt;
&lt;object data='http://vimeo.com/moogaloop.swf?clip_id=3310996&amp;amp;server=vimeo.com&amp;amp;show_title=1&amp;amp;show_byline=1&amp;amp;show_portrait=0&amp;amp;color=00ADEF&amp;amp;fullscreen=1' width='400' height='251' type='application/x-shockwave-flash'&gt;&lt;param value='true' name='allowfullscreen' /&gt;&lt;param value='always' name='allowscriptaccess' /&gt;&lt;param value='http://vimeo.com/moogaloop.swf?clip_id=3310996&amp;amp;server=vimeo.com&amp;amp;show_title=1&amp;amp;show_byline=1&amp;amp;show_portrait=0&amp;amp;color=00ADEF&amp;amp;fullscreen=1' name='src' /&gt;&lt;/object&gt;
&lt;p&gt;&lt;a href='http://vimeo.com/3310996'&gt;TweetDeck screencast (rus)&lt;/a&gt; от &lt;a href='http://vimeo.com/user1053824'&gt;Александра Улизько&lt;/a&gt; на &lt;a href='http://vimeo.com'&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;На мой взгляд, получилось гораздо лучше, нежели в &lt;a href='http://ulizko.com/posts/210/index.html'&gt;прошлый раз&lt;/a&gt;, но до сколько-нибудь нормального уровня скринкаст все еще не дотягивает. Из замеченных недостатков:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;ВНЕЗАПНО&lt;/em&gt; прорезавшийся вологодский акцент - абсолютно непонятно, откуда он взялся, но, тем не менее, в отдельных местах я отчетливо окаю.&lt;/p&gt;

&lt;p&gt;Язык убегает вперед головы&amp;#160;&amp;#8212; иногда не&amp;#160;согласованы рода и&amp;#160;числа, предложения остаются оборваны. Вы&amp;#160;бы видели, как хохотал &lt;a href='http://proxiper.livejournal.com'&gt;proxiper&lt;/a&gt;, когда, я&amp;#160;пять раз подряд записывал фразу &amp;#171;зарегистрировался в&amp;#160;сервисе&amp;#187;, потому что с&amp;#160;языка упорно слетало слово &amp;#171;сервер&amp;#187;. Как с&amp;#160;этим бороться, я&amp;#160;не&amp;#160;знаю, если честно&amp;#160;&amp;#8212; заучивать текст мне кажется глупым, но&amp;#160;иного способа говорить четко и&amp;#160;без оговорок я&amp;#160;не&amp;#160;знаю. Может быть, кто-нибудь из&amp;#160;более опытных товарищей поделится?&lt;/p&gt;

&lt;p&gt;Откровенно странное качество записи&amp;#160;&amp;#8212; писалось все на&amp;#160;встроенный в&amp;#160;макбук микрофон в&amp;#160;течении достаточно длительного времени, от&amp;#160;этого голос время от&amp;#160;времени меняется, что вы&amp;#160;наверняка заметили. Думаю, при наличии нормального микрофона и&amp;#160;сокращении времени записи конкретно этот недостаток можно изжить.&lt;/p&gt;
&lt;a href='/images/tweetdeck_screencast/tweetdeck_screencast_plan.png'&gt;&lt;img alt='План скринкаста о tweetdeck&amp;apos;e' width='150' height='150' title='План скринкаста о tweetdeck&amp;apos;e' src='/release-201207022057images/tweetdeck_screencast/tweetdeck_screencast_plan-150x150.png' /&gt;&lt;/a&gt;
&lt;p&gt;Сделав выводы из&amp;#160;прошлого скринкаста, я&amp;#160;решил, что записывать одновременно видео, звуки клавиатуры и&amp;#160;речь&amp;#160;&amp;#8212; не&amp;#160;комильфо, по&amp;#160;крайней мере, мне еще далеко до&amp;#160;такого уровня мастерства, так что я&amp;#160;сделал себе такой вот план и&amp;#160;решил сначала по&amp;#160;нему записать видео, а&amp;#160;потом поверх наложить звук. Собственно, результат действительно оказался гораздо лучше, чем в&amp;#160;прошлый раз, но&amp;#160;тоже изобилует недостатками. Короче, это было правильное решение, надо и&amp;#160;дальше действовать так.&lt;/p&gt;
&lt;img alt='Монтаж скринкаста' width='150' class='size-thumbnail wp-image-340' height='150' title='Монтаж скринкаста' src='/release-201207022057/images/tweetdeck_screencast/dhcdhndhdhndhnn-3.png' /&gt;
&lt;p&gt;Неправильный выбор программы для записи и&amp;#160;редактирования&amp;#160;&amp;#8212; я&amp;#160;записывал все в&amp;#160;программу &lt;a href='http://www.varasoftware.com/products/screenflow/'&gt;screenflow&lt;/a&gt;. Точнее даже, записывает-то она вполне прилично, но&amp;#160;вот редактирование в&amp;#160;ней совершенно не&amp;#160;предусмотренно. Например, совершенно невозможно взять отдельный кадр из&amp;#160;видео и&amp;#160;показывать только его, а&amp;#160;звук пускай идет дальше&amp;#160;&amp;#8212; иногда это полезно, так как не&amp;#160;успеваешь проговорить все, что собирался. Также, совершенно дико реализован процесс дозаписи кусочков звука&amp;#160;&amp;#8212; чем-то процесс мне напоминает далекую молодость, когда я&amp;#160;мышкой накликивал в&amp;#160;cakewalk 9&amp;#160;&lt;nobr&gt;midi-партии.&lt;/nobr&gt; Возникают точно такие&amp;#160;же ощущения бессмысленной и&amp;#160;лишней работы&amp;#160;&amp;#8212; но, черт возьми, уже сколько лет-то прошло? Должен&amp;#160;же прогресс уйти вперед&amp;#160;не?&lt;/p&gt;

&lt;p&gt;В общем, выводы из всего этого такие:&lt;/p&gt;

&lt;p&gt;* Скринкасты делать весело и интересно * Нужна какая-то более удобная программа для редактирования видео * Нужно что-то сделать с речью - перед зеркалом тренироваться, что ли&lt;/p&gt;

&lt;p&gt;Хотелось&amp;#160;бы, разумеется, услышать ваши отзывы и&amp;#160;критику. Ну&amp;#160;и&amp;#160;если кто знает решение одной из&amp;#160;перечисленный проблем&amp;#160;&amp;#8212; поделитесь, пожалуйста.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Букмарклеты</title>
   <link href="http://ulizko.com/posts/334/index.html"/>
   <updated>2009-02-16T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/334/334</id>
   <content type="html">&lt;p&gt;Всем привет, сегодня речь пойдет про использование букмарклета, или закладки для браузера.&lt;/p&gt;

&lt;p&gt;Кто не&amp;#160;знает, это такая штука, которую можно добавить в&amp;#160;закладки (да,&amp;#160;я&amp;#160;сегодня дебютирую в&amp;#160;роли Капитана Очевидность :) и,&amp;#160;при нажатии на&amp;#160;нее, произвести какой-нибудь эффект.&lt;/p&gt;

&lt;p&gt;Примером может служить герой сегодняшней заметки, который расположен по&amp;#160;адресу &lt;a href='http://ulizko.com/demo/allthat/'&gt;http://ulizko. com/demo/allthat/&lt;/a&gt;. Инструкция по&amp;#160;применению:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Перетащите ссылку &amp;#171;link&amp;#187; на&amp;#160;панель закладок или щелкните по&amp;#160;ней правой кнопкой мыши и&amp;#160;выберите пункт меню &amp;#171;добавить в&amp;#160;избранное&amp;#187;.&lt;/li&gt;

&lt;li&gt;Зайдите на&amp;#160;какой-нибудь сайт, вроде &lt;a href='http://twitter.com'&gt;http://twitter. com&lt;/a&gt;, и&amp;#160;нажмите на&amp;#160;эту закладку (ну&amp;#160;или на&amp;#160;избранное).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Появится окошко, в&amp;#160;которое можно ввести данные. Вообще, предполагается, что это будет интерфейс добавления желаний в&amp;#160;вишлисты (предварительно созданные на&amp;#160;каком-то сайте), настроить триггеры оповещений, и&amp;#160;прочее. Есть даже какая-то валидация начального уровня. И&amp;#160;налажен обмен данными с&amp;#160;сервером&amp;#160;&amp;#8212; то&amp;#160;есть, на&amp;#160;любом домене к&amp;#160;вам приходит список ваших вишлистов, а&amp;#160;ваше новое желание с&amp;#160;любого домена долетит на&amp;#160;крыльях любви к&amp;#160;вишлисту и&amp;#160;уютно устроится в&amp;#160;его объятьях&lt;sup&gt;&lt;a href='#footnotes_wtf'&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;Но. Мы&amp;#160;сегодня не&amp;#160;об&amp;#160;этом, а&amp;#160;о&amp;#160;том, как делать такие штуки в&amp;#160;принципе.&lt;/p&gt;

&lt;p&gt;Прежде чем перейти непосредственно к&amp;#160;разбору кода, хотелось&amp;#160;бы ответить на&amp;#160;вопрос (который мне никто не&amp;#160;задавал :), а именно, &amp;#34;Какие возможности дает букмарклет?&amp;#34;. Правильный ответ&amp;#160;&amp;#8212; любые. Так как мы&amp;#160;получаем возможность подгрузить любой скрипт, мы&amp;#160;можем сделать с&amp;#160;клиентской страничкой все, что угодно. Например&amp;#160;&amp;#8212; сделать &amp;#171;выносной&amp;#187; виджет, в&amp;#160;котором на&amp;#160;любой страничке можно будет добавить запись в&amp;#160;блокнот или таскменджер. Или вообще сделать весь таскменеджер выносным. Что тоже важно, они будут работать практически везде&amp;#160;&amp;#8212; это не&amp;#160;плагины к&amp;#160;firefox&amp;#146;у&amp;#160;и&amp;#160;не виджеты к&amp;#160;opera. Букмарклетам не&amp;#160;важно (ну,&amp;#160;почти :), какая у&amp;#160;вас ОС&amp;#160;или браузер. В&amp;#160;общем, есть простор для фантазии.&lt;/p&gt;

&lt;p&gt;Итак, как&amp;#160;же делать эти самые букмарклеты?&lt;/p&gt;

&lt;p&gt;Очень просто: надо создать на&amp;#160;страничке элемент anchor с&amp;#160;атрибутом href, содержащим javascript-код. Если перевести на&amp;#160;русский, то&amp;#160;надо сделать вот такую ссылку, адрес которой, по&amp;#160;большому счету, и&amp;#160;будет букмарклетом:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='html'&gt;&lt;span class='nt'&gt;&amp;lt;a&lt;/span&gt; &lt;span class='na'&gt;href=&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;javascript:alert(&amp;#39;I am bookmarklet&amp;#39;); void 0;&amp;quot;&lt;/span&gt;&lt;span class='nt'&gt;&amp;gt;&lt;/span&gt;Bookmarklet&lt;span class='nt'&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Демо:&lt;/p&gt;
&lt;a href='javascript:alert(&amp;apos;I am bookmarklet&amp;apos;); void 0;'&gt;Демо вышеописанного кода&lt;/a&gt;
&lt;p&gt;Для того, чтобы javascript код в&amp;#160;адресе ссылки заработал, надо добавить перед ним слово &lt;code&gt;javascript:&lt;/code&gt;. По&amp;#160;умному это называется &amp;#171;указание псевдопротокола javascript&amp;#187;. Еще одна важная деталь&amp;#160;&amp;#8212; если ваш код вернет какое-то значение, то&amp;#160;браузер воспримет его в&amp;#160;качестве адреса, по&amp;#160;которому нужно перейти, и&amp;#160;уйдет с&amp;#160;текущей страницы. Чтобы избежать этого, не&amp;#160;возвращайте значения, то&amp;#160;есть допишите в&amp;#160;конец скрипта &lt;code&gt;void 0;&lt;/code&gt;, либо оберните весь код в&amp;#160;анонимную функцию, невозвращающую значения&amp;#160;&amp;#8212; &lt;code&gt;(function(){... ваш код мог бы быть здесь...})()&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;В любом случае, все эти вопросы подробно рассмотрены у&amp;#160;Ильи Кантора в&amp;#160;его заметке &lt;a href='http://javascript.ru/unsorted/bookmarklet'&gt;Букмарклеты и&amp;nbsp;правила их&amp;nbsp;написания&lt;/a&gt;, к&amp;#160;которой я&amp;#160;вас и&amp;#160;отсылаю за&amp;#160;подробностями.&lt;/p&gt;

&lt;p&gt;Единственную вещь, которую нам еще нужно знать&amp;#160;&amp;#8212; это то,&amp;#160;что все браузеры ограничивают максимальную длину кода букмарклета. И,&amp;#160;подобно тому, как скорость каравана равна скорости самого медленного верблюда, так и&amp;#160;максимальный размер кроссбраузерного букмарклета равен ограничению, наложенному IE&amp;#160;6&amp;#160;SP2, то&amp;#160;есть, 488&amp;#160;символам.&lt;/p&gt;

&lt;p&gt;Таким образом, вряд&amp;#160;ли мы&amp;#160;сможем закодить какую-то комплексную логику в&amp;#160;неполных пятистах символах, так что чаще всего букмарклеты просто создают новый тэг script, в&amp;#160;который уже сгружают код приложения.&lt;/p&gt;

&lt;p&gt;Так поступил и&amp;#160;я.&amp;#160;Вот код моего букмарклета в&amp;#160;человекоадаптированном виде:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='javascript'&gt;&lt;span class='lineno'&gt; 1&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 2&lt;/span&gt;     &lt;span class='c1'&gt;// создаем новую внутреннюю переменную a (лучше в данном случае использовать короткие идентификаторы)&lt;/span&gt;
&lt;span class='lineno'&gt; 3&lt;/span&gt;     &lt;span class='c1'&gt;// и сразу же добавляем свой объект в глобальный объект window, и записываем в него данные, которые уникальны&lt;/span&gt;
&lt;span class='lineno'&gt; 4&lt;/span&gt;     &lt;span class='c1'&gt;// для каждого пользователя (ведь они сгенерированы сервером для пользователя перед тем, как он добавил этот букмарклет к себе)&lt;/span&gt;
&lt;span class='lineno'&gt; 5&lt;/span&gt;     &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;allThat&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 6&lt;/span&gt;         &lt;span class='nx'&gt;userId&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;123345456&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 7&lt;/span&gt;         &lt;span class='nx'&gt;server&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;http://mysite.com/&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 8&lt;/span&gt;         &lt;span class='nx'&gt;script&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;createElement&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;script&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt; &lt;span class='c1'&gt;// создадим и запомним тэг скрипт, &lt;/span&gt;
&lt;span class='lineno'&gt; 9&lt;/span&gt;         &lt;span class='c1'&gt;// который сгрузит нам код нашего приложения - мы его потом удалим, если пользователь нажмет кнопку &amp;quot;закрыть&amp;quot;&lt;/span&gt;
&lt;span class='lineno'&gt;10&lt;/span&gt;         &lt;span class='nx'&gt;css&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;createElement&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;link&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;span class='lineno'&gt;11&lt;/span&gt;     &lt;span class='p'&gt;},&lt;/span&gt;
&lt;span class='lineno'&gt;12&lt;/span&gt;     &lt;span class='cm'&gt;/* динамически создаем элементы: */&lt;/span&gt;
&lt;span class='lineno'&gt;13&lt;/span&gt;     &lt;span class='nx'&gt;h&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;getElementsByTagName&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;head&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)[&lt;/span&gt;&lt;span class='mi'&gt;0&lt;/span&gt;&lt;span class='p'&gt;];&lt;/span&gt;
&lt;span class='lineno'&gt;14&lt;/span&gt;     &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;css&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;rel&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;stylesheet&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;15&lt;/span&gt;     &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;css&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;href&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;server&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;css/bookmarklet.2.css&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;16&lt;/span&gt;     &lt;span class='nx'&gt;h&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;appendChild&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;css&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;17&lt;/span&gt;     &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;src&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;server&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;js/bookmarklet.7.js&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;18&lt;/span&gt;     &lt;span class='nx'&gt;h&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;appendChild&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;19&lt;/span&gt;     &lt;span class='nx'&gt;h&lt;/span&gt;&lt;span class='o'&gt;=&lt;/span&gt;&lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;20&lt;/span&gt; &lt;span class='p'&gt;})();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Потом подгружается непосредственно код самого окошка. Думаю, он&amp;#160;может представлять некий интерес сам по&amp;#160;себе, так что и&amp;#160;его я&amp;#160;сюда запощу (все комментарии идут на&amp;#160;английском, так как заказчик американец):&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='javascript'&gt;&lt;span class='lineno'&gt;  1&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;  2&lt;/span&gt; &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;  3&lt;/span&gt;     &lt;span class='nx'&gt;get&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt;  4&lt;/span&gt;         &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt; &lt;span class='o'&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;nodeType&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;?&lt;/span&gt; &lt;span class='nx'&gt;el&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;getElementById&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt; 
&lt;span class='lineno'&gt;  5&lt;/span&gt;     &lt;span class='p'&gt;},&lt;/span&gt;
&lt;span class='lineno'&gt;  6&lt;/span&gt;     &lt;span class='nx'&gt;addListener&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt;  7&lt;/span&gt;             &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;body&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;addEventListener&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt;  8&lt;/span&gt;                 &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt;  9&lt;/span&gt;                     &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;addEventListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kc'&gt;false&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt; 
&lt;span class='lineno'&gt; 10&lt;/span&gt;                 &lt;span class='p'&gt;};&lt;/span&gt; 
&lt;span class='lineno'&gt; 11&lt;/span&gt;             &lt;span class='p'&gt;}&lt;/span&gt; &lt;span class='k'&gt;else&lt;/span&gt; &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;body&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;attachEvent&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 12&lt;/span&gt;                 &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 13&lt;/span&gt;                     &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;attachEvent&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;on&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt; 
&lt;span class='lineno'&gt; 14&lt;/span&gt;                 &lt;span class='p'&gt;};&lt;/span&gt; 
&lt;span class='lineno'&gt; 15&lt;/span&gt;             &lt;span class='p'&gt;}&lt;/span&gt; &lt;span class='k'&gt;else&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 16&lt;/span&gt;                 &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 17&lt;/span&gt;                     &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;on&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;]&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; 
&lt;span class='lineno'&gt; 18&lt;/span&gt;                 &lt;span class='p'&gt;};&lt;/span&gt; 
&lt;span class='lineno'&gt; 19&lt;/span&gt;             &lt;span class='p'&gt;}&lt;/span&gt; 
&lt;span class='lineno'&gt; 20&lt;/span&gt;         &lt;span class='p'&gt;}(),&lt;/span&gt;
&lt;span class='lineno'&gt; 21&lt;/span&gt;     &lt;span class='nx'&gt;removeListener&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 22&lt;/span&gt;             &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;body&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeEventListener&lt;/span&gt;&lt;span class='p'&gt;){&lt;/span&gt; 
&lt;span class='lineno'&gt; 23&lt;/span&gt;                 &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 24&lt;/span&gt;                     &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeEventListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kc'&gt;false&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt; 
&lt;span class='lineno'&gt; 25&lt;/span&gt;                 &lt;span class='p'&gt;};&lt;/span&gt; 
&lt;span class='lineno'&gt; 26&lt;/span&gt;             &lt;span class='p'&gt;}&lt;/span&gt; &lt;span class='k'&gt;else&lt;/span&gt; &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;body&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;detachEvent&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 27&lt;/span&gt;                 &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 28&lt;/span&gt;                     &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;detachEvent&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;on&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt; 
&lt;span class='lineno'&gt; 29&lt;/span&gt;                 &lt;span class='p'&gt;};&lt;/span&gt; 
&lt;span class='lineno'&gt; 30&lt;/span&gt;             &lt;span class='p'&gt;}&lt;/span&gt; &lt;span class='k'&gt;else&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 31&lt;/span&gt;                 &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fn&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt; 32&lt;/span&gt;                     &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;on&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;type&lt;/span&gt;&lt;span class='p'&gt;]&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='kc'&gt;true&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='p'&gt;};&lt;/span&gt; 
&lt;span class='lineno'&gt; 33&lt;/span&gt;                 &lt;span class='p'&gt;};&lt;/span&gt; 
&lt;span class='lineno'&gt; 34&lt;/span&gt;             &lt;span class='p'&gt;}&lt;/span&gt; 
&lt;span class='lineno'&gt; 35&lt;/span&gt;         &lt;span class='p'&gt;}(),&lt;/span&gt;
&lt;span class='lineno'&gt; 36&lt;/span&gt;     &lt;span class='nx'&gt;hide&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 37&lt;/span&gt;         &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;style&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;display&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt; 38&lt;/span&gt;     &lt;span class='p'&gt;},&lt;/span&gt;
&lt;span class='lineno'&gt; 39&lt;/span&gt;     &lt;span class='nx'&gt;show&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 40&lt;/span&gt;         &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;style&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;display&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt; 41&lt;/span&gt;     &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt; 42&lt;/span&gt; &lt;span class='p'&gt;},&lt;/span&gt;
&lt;span class='lineno'&gt; 43&lt;/span&gt; 
&lt;span class='lineno'&gt; 44&lt;/span&gt; &lt;span class='nx'&gt;allThat&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt; 45&lt;/span&gt; 
&lt;span class='lineno'&gt; 46&lt;/span&gt; &lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;Bookmarklet&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 47&lt;/span&gt;     &lt;span class='c1'&gt;// where to send user data and where from take wishlists list&lt;/span&gt;
&lt;span class='lineno'&gt; 48&lt;/span&gt;     &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;wishlistsLocation&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;server&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;wishlists/&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 49&lt;/span&gt;     &lt;span class='nx'&gt;sendTo&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;server&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;wishes/&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 50&lt;/span&gt; 
&lt;span class='lineno'&gt; 51&lt;/span&gt;     &lt;span class='c1'&gt;// bookmarklet window html code&lt;/span&gt;
&lt;span class='lineno'&gt; 52&lt;/span&gt;     &lt;span class='nx'&gt;innerHTML&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;lt;div id=&amp;quot;allthat-wish&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;allthat-saving&amp;quot; id=&amp;quot;allthat-throbber&amp;quot;&amp;gt;saving...&amp;lt;/div&amp;gt;&amp;lt;div id=&amp;quot;allthat-logo&amp;quot;&amp;gt;&amp;lt;span&amp;gt;AllThat&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;button title=&amp;quot;close&amp;quot; id=&amp;quot;allthat-close&amp;quot;&amp;gt;&amp;lt;span&amp;gt;close&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;&amp;lt;h1&amp;gt;&amp;lt;span&amp;gt;Add To Wishlist&amp;lt;/span&amp;gt;&amp;lt;/h1&amp;gt;&amp;lt;form action=&amp;quot;&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;allthat-field&amp;quot;&amp;gt;&amp;lt;label for=&amp;quot;allthat-product&amp;quot;&amp;gt;Product Name:&amp;lt;/label&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;product&amp;quot; value=&amp;quot;(Ex: Black iPhone Adapter)&amp;quot; class=&amp;quot;allthat-sample-value&amp;quot; id=&amp;quot;allthat-product&amp;quot; /&amp;gt;&amp;lt;/div&amp;gt;	&amp;lt;div class=&amp;quot;allthat-field&amp;quot;&amp;gt;&amp;lt;label for=&amp;quot;allthat-wishlist&amp;quot;&amp;gt;Add to List:&amp;lt;/label&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;select name=&amp;quot;wishlist&amp;quot; id=&amp;quot;allthat-wishlist&amp;quot;&amp;gt;&amp;lt;/select&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;fieldset id=&amp;quot;allthat-low-price&amp;quot;&amp;gt;	&amp;lt;h2&amp;gt;Low Price Alerts!&amp;lt;/h2&amp;gt;			&amp;lt;div class=&amp;quot;allthat-field&amp;quot; id=&amp;quot;allthat-range&amp;quot;&amp;gt;&amp;lt;label for=&amp;quot;allthat-minprice&amp;quot;&amp;gt;How much would you like to pay?&amp;lt;/label&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;minprice&amp;quot; value=&amp;quot;(min)&amp;quot; class=&amp;quot;allthat-sample-value&amp;quot; id=&amp;quot;allthat-minprice&amp;quot; /&amp;gt;to&amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;maxprice&amp;quot; value=&amp;quot;(max)&amp;quot; class=&amp;quot;allthat-sample-value&amp;quot; id=&amp;quot;allthat-maxprice&amp;quot; /&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;h3&amp;gt;Alert me via:&amp;lt;/h3&amp;gt;&amp;lt;fieldset id=&amp;quot;allthat-alerts&amp;quot;&amp;gt;&amp;lt;input type=&amp;quot;checkbox&amp;quot; name=&amp;quot;email&amp;quot; id=&amp;quot;allthat-email&amp;quot; /&amp;gt;&amp;lt;label for=&amp;quot;allthat-email&amp;quot; id=&amp;quot;allthat-email-label&amp;quot;&amp;gt;Email&amp;lt;/label&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;input type=&amp;quot;checkbox&amp;quot; name=&amp;quot;sms&amp;quot; id=&amp;quot;allthat-sms&amp;quot; /&amp;gt;&amp;lt;label for=&amp;quot;allthat-sms&amp;quot; id=&amp;quot;allthat-sms-label&amp;quot;&amp;gt;SMS&amp;lt;/label&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;input type=&amp;quot;checkbox&amp;quot; name=&amp;quot;twitter&amp;quot; id=&amp;quot;allthat-twitter&amp;quot; /&amp;gt;&amp;lt;label for=&amp;quot;allthat-twitter&amp;quot; id=&amp;quot;allthat-twitter-label&amp;quot;&amp;gt;Twitter&amp;lt;/label&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;select name=&amp;quot;frequency&amp;quot; id=&amp;quot;allthat-frequency&amp;quot;&amp;gt;&amp;lt;option value=&amp;quot;0&amp;quot; selected=&amp;quot;selected&amp;quot;&amp;gt;-- Alert Frequency --&amp;lt;/option&amp;gt;&amp;lt;option value=&amp;quot;1&amp;quot;&amp;gt;Daily&amp;lt;/option&amp;gt;&amp;lt;option value=&amp;quot;7&amp;quot;&amp;gt;Weekly&amp;lt;/option&amp;gt;&amp;lt;option value=&amp;quot;30&amp;quot;&amp;gt;Monthly&amp;lt;/option&amp;gt;&amp;lt;/select&amp;gt;&amp;lt;/fieldset&amp;gt;&amp;lt;/fieldset&amp;gt;&amp;lt;button title=&amp;quot;Add&amp;quot; id=&amp;quot;allthat-add&amp;quot;&amp;gt;&amp;lt;span&amp;gt;Add&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;&amp;lt;/form&amp;gt;&amp;lt;div id=&amp;quot;allthat-errors&amp;quot; style=&amp;quot;color:red;&amp;quot;/&amp;gt;&amp;lt;/div&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 53&lt;/span&gt; 
&lt;span class='lineno'&gt; 54&lt;/span&gt;     &lt;span class='c1'&gt;// dom elements:&lt;/span&gt;
&lt;span class='lineno'&gt; 55&lt;/span&gt;     &lt;span class='nx'&gt;container&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;createElement&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;div&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt;
&lt;span class='lineno'&gt; 56&lt;/span&gt;     &lt;span class='nx'&gt;errorDiv&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 57&lt;/span&gt;     &lt;span class='nx'&gt;alertFrequencyDropdown&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 58&lt;/span&gt;     &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 59&lt;/span&gt;     &lt;span class='nx'&gt;wishlistsWrapper&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 60&lt;/span&gt;     &lt;span class='nx'&gt;savingThrobber&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 61&lt;/span&gt;     &lt;span class='nx'&gt;closeButton&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 62&lt;/span&gt;     &lt;span class='nx'&gt;titleInput&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 63&lt;/span&gt;     &lt;span class='nx'&gt;minPriceInput&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 64&lt;/span&gt;     &lt;span class='nx'&gt;maxPriceInput&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 65&lt;/span&gt;     &lt;span class='nx'&gt;sendButton&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 66&lt;/span&gt;     &lt;span class='nx'&gt;alerts&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;{},&lt;/span&gt;
&lt;span class='lineno'&gt; 67&lt;/span&gt;     &lt;span class='nx'&gt;scripts&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;[],&lt;/span&gt;
&lt;span class='lineno'&gt; 68&lt;/span&gt; 
&lt;span class='lineno'&gt; 69&lt;/span&gt;     &lt;span class='c1'&gt;// input default values:&lt;/span&gt;
&lt;span class='lineno'&gt; 70&lt;/span&gt;     &lt;span class='nx'&gt;titleDefaultValue&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;(Ex: Black iPhone Adapter)&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 71&lt;/span&gt;     &lt;span class='nx'&gt;minPriceDefaultValue&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;(min)&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 72&lt;/span&gt;     &lt;span class='nx'&gt;maxPriceDefaultValue&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;(max)&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 73&lt;/span&gt; 
&lt;span class='lineno'&gt; 74&lt;/span&gt;     &lt;span class='c1'&gt;// errors array - used for validation&lt;/span&gt;
&lt;span class='lineno'&gt; 75&lt;/span&gt;     &lt;span class='nx'&gt;errors&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;[],&lt;/span&gt;
&lt;span class='lineno'&gt; 76&lt;/span&gt;     &lt;span class='nx'&gt;errorMessages&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 77&lt;/span&gt;         &lt;span class='nx'&gt;titleEmpty&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;Please enter product name&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 78&lt;/span&gt;         &lt;span class='nx'&gt;wishlistNotSelected&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;Please chose list&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt; 79&lt;/span&gt;         &lt;span class='nx'&gt;frequencyNonSelected&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;Please chose alert frequency&amp;#39;&lt;/span&gt;
&lt;span class='lineno'&gt; 80&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt; 81&lt;/span&gt; 
&lt;span class='lineno'&gt; 82&lt;/span&gt;     &lt;span class='c1'&gt;// append bookmarklet window html to the target page&lt;/span&gt;
&lt;span class='lineno'&gt; 83&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;createTemplate&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 84&lt;/span&gt;         &lt;span class='nx'&gt;container&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;innerHTML&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;innerHTML&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt; 85&lt;/span&gt;         &lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;body&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;appendChild&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;container&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 86&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt; 87&lt;/span&gt;     &lt;span class='c1'&gt;// initialize javascript references to the Dom elements&lt;/span&gt;
&lt;span class='lineno'&gt; 88&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;initializeDomElementsReferences&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt; 89&lt;/span&gt;         &lt;span class='nx'&gt;errorDiv&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-errors&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 90&lt;/span&gt;         &lt;span class='nx'&gt;alertFrequencyDropdown&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-frequency&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 91&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-wishlist&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 92&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsWrapper&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;parentNode&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt; 93&lt;/span&gt;         &lt;span class='nx'&gt;savingThrobber&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-throbber&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 94&lt;/span&gt;         &lt;span class='nx'&gt;closeButton&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-close&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 95&lt;/span&gt;         &lt;span class='nx'&gt;titleInput&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-product&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 96&lt;/span&gt;         &lt;span class='nx'&gt;minPriceInput&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-minprice&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 97&lt;/span&gt;         &lt;span class='nx'&gt;maxPriceInput&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-maxprice&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 98&lt;/span&gt;         &lt;span class='nx'&gt;sendButton&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-add&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt; 99&lt;/span&gt;         &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;email&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-email&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;100&lt;/span&gt;         &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;sms&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-sms&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;101&lt;/span&gt;         &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;twitter&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;get&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;allthat-twitter&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;102&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;103&lt;/span&gt;     &lt;span class='c1'&gt;// disable wishlist dropdown before server response with wishlists array doesn&amp;#39;t arrive&lt;/span&gt;
&lt;span class='lineno'&gt;104&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;initializeGUI&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;105&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;disabled&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;disabled&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;106&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;style&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;width&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;90%&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;107&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsWrapper&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;parentNode&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;108&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsWrapper&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;style&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;background&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;transparent url(&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;server&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;images/bookmarklet/ajax-loader-blue.gif) no-repeat right&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;109&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;hide&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;savingThrobber&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;110&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;111&lt;/span&gt;     &lt;span class='c1'&gt;// bind event listeners to the controls&lt;/span&gt;
&lt;span class='lineno'&gt;112&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;attachListeners&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;113&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;addListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;closeButton&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;click&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;destroy&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;114&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;addListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;titleInput&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;focus&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;titleInput&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='nx'&gt;titleDefaultValue&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;activateInput&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;titleInput&lt;/span&gt;&lt;span class='p'&gt;);});&lt;/span&gt;
&lt;span class='lineno'&gt;115&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;addListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;minPriceInput&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;focus&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;minPriceInput&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='nx'&gt;minPriceDefaultValue&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;activateInput&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;minPriceInput&lt;/span&gt;&lt;span class='p'&gt;);});&lt;/span&gt;
&lt;span class='lineno'&gt;116&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;addListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;maxPriceInput&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;focus&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;maxPriceInput&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='nx'&gt;maxPriceDefaultValue&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;activateInput&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;maxPriceInput&lt;/span&gt;&lt;span class='p'&gt;);});&lt;/span&gt;
&lt;span class='lineno'&gt;117&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;addListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;sendButton&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;click&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;e&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='nx'&gt;e&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;e&lt;/span&gt; &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;event&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;e&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;preventDefault&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;e&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;preventDefault&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt; &lt;span class='nx'&gt;addItemToList&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt; &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='kc'&gt;false&lt;/span&gt;&lt;span class='p'&gt;;});&lt;/span&gt;
&lt;span class='lineno'&gt;118&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;119&lt;/span&gt; 
&lt;span class='lineno'&gt;120&lt;/span&gt;     &lt;span class='c1'&gt;// validators&lt;/span&gt;
&lt;span class='lineno'&gt;121&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;validateItemTitlePresence&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;122&lt;/span&gt;         &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;t&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;titleInput&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;123&lt;/span&gt;         &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;t&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;replace&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='sr'&gt;/^s+|s+$/&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;).&lt;/span&gt;&lt;span class='nx'&gt;length&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='mi'&gt;0&lt;/span&gt; &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='nx'&gt;t&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='nx'&gt;titleDefaultValue&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;errors&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;push&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;errorMessages&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;titleEmpty&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;124&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;125&lt;/span&gt; 
&lt;span class='lineno'&gt;126&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;validateWishlistPresence&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;127&lt;/span&gt;         &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='k'&gt;typeof&lt;/span&gt; &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt; &lt;span class='o'&gt;===&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;errors&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;push&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;errorMessages&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;wishlistNotSelected&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;128&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;129&lt;/span&gt; 
&lt;span class='lineno'&gt;130&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;validateFrequencyPresence&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;131&lt;/span&gt;         &lt;span class='k'&gt;for&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;alert&lt;/span&gt; &lt;span class='k'&gt;in&lt;/span&gt; &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt;132&lt;/span&gt;             &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;alert&lt;/span&gt;&lt;span class='p'&gt;].&lt;/span&gt;&lt;span class='nx'&gt;checked&lt;/span&gt; &lt;span class='o'&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class='nx'&gt;alertFrequencyDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='mi'&gt;0&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;133&lt;/span&gt;                 &lt;span class='nx'&gt;errors&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;push&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;errorMessages&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;frequencyNonSelected&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt; 
&lt;span class='lineno'&gt;134&lt;/span&gt;                 &lt;span class='k'&gt;return&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;135&lt;/span&gt;             &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;136&lt;/span&gt;         &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;137&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;138&lt;/span&gt; 
&lt;span class='lineno'&gt;139&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;validate&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;140&lt;/span&gt;         &lt;span class='nx'&gt;errors&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;length&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='mi'&gt;0&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;141&lt;/span&gt;         &lt;span class='nx'&gt;validateItemTitlePresence&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;142&lt;/span&gt;         &lt;span class='nx'&gt;validateWishlistPresence&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;143&lt;/span&gt;         &lt;span class='nx'&gt;validateFrequencyPresence&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;144&lt;/span&gt;         &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='nx'&gt;errors&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;length&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='mi'&gt;0&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;145&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;146&lt;/span&gt; 
&lt;span class='lineno'&gt;147&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;displayErrors&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;148&lt;/span&gt;         &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;output&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;error&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;i&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='mi'&gt;0&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;149&lt;/span&gt;         &lt;span class='k'&gt;while&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;error&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;errors&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt;&lt;span class='o'&gt;++&lt;/span&gt;&lt;span class='p'&gt;])&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;150&lt;/span&gt;             &lt;span class='nx'&gt;output&lt;/span&gt; &lt;span class='o'&gt;+=&lt;/span&gt; &lt;span class='nx'&gt;error&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;lt;br/&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;151&lt;/span&gt;         &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;152&lt;/span&gt; 
&lt;span class='lineno'&gt;153&lt;/span&gt;         &lt;span class='nx'&gt;errorDiv&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;innerHTML&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;output&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;154&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;155&lt;/span&gt; 
&lt;span class='lineno'&gt;156&lt;/span&gt;     &lt;span class='c1'&gt;// this function called if user clicks on the &amp;#39;send&amp;#39; button&lt;/span&gt;
&lt;span class='lineno'&gt;157&lt;/span&gt;     &lt;span class='c1'&gt;// so that we need to validate data, and, if it&amp;#39;s all ok,&lt;/span&gt;
&lt;span class='lineno'&gt;158&lt;/span&gt;     &lt;span class='c1'&gt;// send request to server. Also, we show throbber and setup callback which would stop it&lt;/span&gt;
&lt;span class='lineno'&gt;159&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;addItemToList&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;160&lt;/span&gt;         &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;validate&lt;/span&gt;&lt;span class='p'&gt;())&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;161&lt;/span&gt;             &lt;span class='nx'&gt;sendItemOnServer&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;162&lt;/span&gt;         &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;163&lt;/span&gt;         &lt;span class='nx'&gt;displayErrors&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;164&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;165&lt;/span&gt; 
&lt;span class='lineno'&gt;166&lt;/span&gt;     &lt;span class='c1'&gt;// serialize data into string, show loader and call sendRequest method&lt;/span&gt;
&lt;span class='lineno'&gt;167&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;sendItemOnServer&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;168&lt;/span&gt;         &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;data&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;title=&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nb'&gt;encodeURIComponent&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;titleInput&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;amp;wishlist=&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;169&lt;/span&gt; 
&lt;span class='lineno'&gt;170&lt;/span&gt;         &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;temp&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;minPriceInput&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;171&lt;/span&gt;         &lt;span class='nx'&gt;data&lt;/span&gt; &lt;span class='o'&gt;+=&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;temp&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='nx'&gt;temp&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='nx'&gt;minPriceDefaultValue&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;?&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;&amp;amp;minPrice=&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;temp&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;172&lt;/span&gt;         &lt;span class='nx'&gt;temp&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;maxPriceInput&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;173&lt;/span&gt;         &lt;span class='nx'&gt;data&lt;/span&gt; &lt;span class='o'&gt;+=&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;temp&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='nx'&gt;temp&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='nx'&gt;maxPriceDefaultValue&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;?&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;&amp;amp;maxPrice=&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;temp&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;174&lt;/span&gt; 
&lt;span class='lineno'&gt;175&lt;/span&gt;         &lt;span class='nx'&gt;data&lt;/span&gt; &lt;span class='o'&gt;+=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;amp;alerts=[&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;176&lt;/span&gt;         &lt;span class='k'&gt;for&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;alert&lt;/span&gt; &lt;span class='k'&gt;in&lt;/span&gt; &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
&lt;span class='lineno'&gt;177&lt;/span&gt;             &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;alert&lt;/span&gt;&lt;span class='p'&gt;];&lt;/span&gt;
&lt;span class='lineno'&gt;178&lt;/span&gt;             &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;checked&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;179&lt;/span&gt;                 &lt;span class='nx'&gt;data&lt;/span&gt; &lt;span class='o'&gt;+=&lt;/span&gt; &lt;span class='nx'&gt;a&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;name&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;180&lt;/span&gt;             &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;181&lt;/span&gt;         &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;182&lt;/span&gt;         &lt;span class='nx'&gt;data&lt;/span&gt; &lt;span class='o'&gt;+=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;]&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;183&lt;/span&gt;         &lt;span class='nx'&gt;data&lt;/span&gt; &lt;span class='o'&gt;+=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;amp;alertFrequency=&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;alertFrequencyDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;184&lt;/span&gt; 
&lt;span class='lineno'&gt;185&lt;/span&gt;         &lt;span class='nx'&gt;showLoader&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;186&lt;/span&gt;         &lt;span class='nx'&gt;sendRequest&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;sendTo&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;data&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;itemAdded&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;187&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;188&lt;/span&gt; 
&lt;span class='lineno'&gt;189&lt;/span&gt;     &lt;span class='c1'&gt;// clear inputs&lt;/span&gt;
&lt;span class='lineno'&gt;190&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;clearFields&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;191&lt;/span&gt;         &lt;span class='nx'&gt;hideLoader&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;192&lt;/span&gt;         &lt;span class='nx'&gt;activateInput&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;titleInput&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;193&lt;/span&gt;         &lt;span class='nx'&gt;activateInput&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;minPriceInput&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;194&lt;/span&gt;         &lt;span class='nx'&gt;activateInput&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;maxPriceInput&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;195&lt;/span&gt;         &lt;span class='k'&gt;for&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;alert&lt;/span&gt; &lt;span class='k'&gt;in&lt;/span&gt; &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;alert&lt;/span&gt;&lt;span class='p'&gt;].&lt;/span&gt;&lt;span class='nx'&gt;checked&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;false&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;196&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;197&lt;/span&gt; 
&lt;span class='lineno'&gt;198&lt;/span&gt;     &lt;span class='c1'&gt;// misc - remove default value and make font color black&lt;/span&gt;
&lt;span class='lineno'&gt;199&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;activateInput&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;200&lt;/span&gt;         &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;className&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;201&lt;/span&gt;         &lt;span class='nx'&gt;el&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;202&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;203&lt;/span&gt; 
&lt;span class='lineno'&gt;204&lt;/span&gt;     &lt;span class='c1'&gt;// feed wishlists dropdown with data and enable it&lt;/span&gt;
&lt;span class='lineno'&gt;205&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;activateWhishlistsDropdown&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;response&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;206&lt;/span&gt;         &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;w&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;response&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;wishlists&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; 
&lt;span class='lineno'&gt;207&lt;/span&gt;             &lt;span class='nx'&gt;i&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='mi'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; 
&lt;span class='lineno'&gt;208&lt;/span&gt;             &lt;span class='nx'&gt;wishlist&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; 
&lt;span class='lineno'&gt;209&lt;/span&gt;             &lt;span class='nx'&gt;opt&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;210&lt;/span&gt;         &lt;span class='k'&gt;while&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;wishlist&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;w&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt;&lt;span class='o'&gt;++&lt;/span&gt;&lt;span class='p'&gt;])&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;211&lt;/span&gt;             &lt;span class='nx'&gt;opt&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;createElement&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;option&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;212&lt;/span&gt; 			&lt;span class='nx'&gt;opt&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;appendChild&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;createTextNode&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;wishlist&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;title&lt;/span&gt;&lt;span class='p'&gt;));&lt;/span&gt;
&lt;span class='lineno'&gt;213&lt;/span&gt; 			&lt;span class='nx'&gt;opt&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;setAttribute&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s2'&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;wishlist&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;id&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;214&lt;/span&gt; 			&lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;appendChild&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;opt&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;215&lt;/span&gt;         &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;216&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;disabled&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;false&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;217&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;style&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;width&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;100%&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;218&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsWrapper&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;style&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;background&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;219&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;220&lt;/span&gt; 
&lt;span class='lineno'&gt;221&lt;/span&gt;     &lt;span class='c1'&gt;// remove every track of bookmarklet from the page&lt;/span&gt;
&lt;span class='lineno'&gt;222&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;destroy&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;223&lt;/span&gt;         &lt;span class='nx'&gt;removeEventListeners&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;224&lt;/span&gt;         &lt;span class='nx'&gt;removeDOMReferences&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;225&lt;/span&gt;         &lt;span class='nx'&gt;container&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;parentNode&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeChild&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;container&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;226&lt;/span&gt;         &lt;span class='nx'&gt;container&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;227&lt;/span&gt;         &lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;css&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;parentNode&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeChild&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;css&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;228&lt;/span&gt;         &lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;parentNode&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeChild&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;229&lt;/span&gt;         &lt;span class='nx'&gt;allThat&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;230&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;231&lt;/span&gt;     &lt;span class='c1'&gt;// to prevent memory leaks on ie6 - remove all js to dom references&lt;/span&gt;
&lt;span class='lineno'&gt;232&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;removeDOMReferences&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;233&lt;/span&gt;         &lt;span class='nx'&gt;errorDiv&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;234&lt;/span&gt;         &lt;span class='nx'&gt;alertFrequencyDropdown&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;235&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsDropdown&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;236&lt;/span&gt;         &lt;span class='nx'&gt;wishlistsWrapper&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;237&lt;/span&gt;         &lt;span class='nx'&gt;savingThrobber&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;238&lt;/span&gt;         &lt;span class='nx'&gt;closeButton&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;239&lt;/span&gt;         &lt;span class='nx'&gt;titleInput&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;240&lt;/span&gt;         &lt;span class='nx'&gt;minPriceInput&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;241&lt;/span&gt;         &lt;span class='nx'&gt;maxPriceInput&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;242&lt;/span&gt;         &lt;span class='nx'&gt;sendButton&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;243&lt;/span&gt;         &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;email&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;244&lt;/span&gt;         &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;sms&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;245&lt;/span&gt;         &lt;span class='nx'&gt;alerts&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;twitter&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;246&lt;/span&gt;         &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;i&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;scripts&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;length&lt;/span&gt; &lt;span class='o'&gt;-&lt;/span&gt; &lt;span class='mi'&gt;1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;head&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;getElementsByTagName&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;head&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)[&lt;/span&gt;&lt;span class='mi'&gt;0&lt;/span&gt;&lt;span class='p'&gt;];&lt;/span&gt;
&lt;span class='lineno'&gt;247&lt;/span&gt;         &lt;span class='k'&gt;while&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;script&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;scripts&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt;&lt;span class='o'&gt;--&lt;/span&gt;&lt;span class='p'&gt;])&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;248&lt;/span&gt;             &lt;span class='nx'&gt;head&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeChild&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;249&lt;/span&gt;             &lt;span class='nx'&gt;script&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;250&lt;/span&gt;             &lt;span class='nx'&gt;scripts&lt;/span&gt;&lt;span class='p'&gt;[&lt;/span&gt;&lt;span class='nx'&gt;i&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='mi'&gt;1&lt;/span&gt;&lt;span class='p'&gt;]&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;251&lt;/span&gt;         &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;252&lt;/span&gt;         &lt;span class='nx'&gt;scripts&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;length&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;253&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;254&lt;/span&gt;     &lt;span class='c1'&gt;// to prevent memory leaks - remove all event listeners&lt;/span&gt;
&lt;span class='lineno'&gt;255&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;removeEventListeners&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;256&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;closeButton&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;click&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;destroy&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;257&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;titleInput&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;focus&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;titleInput&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='nx'&gt;titleDefaultValue&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;activateInput&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;titleInput&lt;/span&gt;&lt;span class='p'&gt;);});&lt;/span&gt;
&lt;span class='lineno'&gt;258&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;minPriceInput&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;focus&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;minPriceInput&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='nx'&gt;minPriceDefaultValue&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;activateInput&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;minPriceInput&lt;/span&gt;&lt;span class='p'&gt;);});&lt;/span&gt;
&lt;span class='lineno'&gt;259&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;maxPriceInput&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;focus&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;maxPriceInput&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;value&lt;/span&gt; &lt;span class='o'&gt;==&lt;/span&gt; &lt;span class='nx'&gt;maxPriceDefaultValue&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;activateInput&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;maxPriceInput&lt;/span&gt;&lt;span class='p'&gt;);});&lt;/span&gt;
&lt;span class='lineno'&gt;260&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;sendButton&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;click&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;e&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='nx'&gt;e&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;e&lt;/span&gt; &lt;span class='o'&gt;||&lt;/span&gt; &lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;event&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;e&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;preventDefault&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;e&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;preventDefault&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt; &lt;span class='nx'&gt;addItemToList&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt; &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='kc'&gt;false&lt;/span&gt;&lt;span class='p'&gt;;});&lt;/span&gt;
&lt;span class='lineno'&gt;261&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;262&lt;/span&gt; 
&lt;span class='lineno'&gt;263&lt;/span&gt;     &lt;span class='c1'&gt;// create dynamic script element and remove it immediately after it load&lt;/span&gt;
&lt;span class='lineno'&gt;264&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;sendRequest&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;url&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;data&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;callback&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;265&lt;/span&gt;         &lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;head&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;getElementsByTagName&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;head&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)[&lt;/span&gt;&lt;span class='mi'&gt;0&lt;/span&gt;&lt;span class='p'&gt;],&lt;/span&gt;
&lt;span class='lineno'&gt;266&lt;/span&gt;             &lt;span class='nx'&gt;script&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nb'&gt;document&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;createElement&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;script&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt;
&lt;span class='lineno'&gt;267&lt;/span&gt;             &lt;span class='nx'&gt;noCacheIE&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;amp;noCacheIE=&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='k'&gt;new&lt;/span&gt; &lt;span class='nb'&gt;Date&lt;/span&gt;&lt;span class='p'&gt;()).&lt;/span&gt;&lt;span class='nx'&gt;getTime&lt;/span&gt;&lt;span class='p'&gt;(),&lt;/span&gt;
&lt;span class='lineno'&gt;268&lt;/span&gt;             &lt;span class='nx'&gt;fullUrl&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='nx'&gt;url&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;?callback=&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nb'&gt;encodeURIComponent&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;callback&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;amp;userId=&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;userId&lt;/span&gt;&lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='p'&gt;((&lt;/span&gt;&lt;span class='nx'&gt;data&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;?&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;&amp;amp;&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;data&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='nx'&gt;noCacheIE&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;269&lt;/span&gt; 
&lt;span class='lineno'&gt;270&lt;/span&gt;         &lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;setAttribute&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;type&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;text/javascript&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;271&lt;/span&gt;         &lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;setAttribute&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;src&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;fullUrl&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;272&lt;/span&gt;         &lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;setAttribute&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;charset&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;273&lt;/span&gt; 
&lt;span class='lineno'&gt;274&lt;/span&gt;         &lt;span class='nx'&gt;head&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;appendChild&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;275&lt;/span&gt;         &lt;span class='nx'&gt;scripts&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;push&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;script&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;276&lt;/span&gt;         &lt;span class='nx'&gt;head&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;277&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;278&lt;/span&gt; 
&lt;span class='lineno'&gt;279&lt;/span&gt;     &lt;span class='c1'&gt;// misc - hide send button and show saving throbber instead&lt;/span&gt;
&lt;span class='lineno'&gt;280&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;showLoader&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;281&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;show&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;savingThrobber&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;282&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;hide&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;sendButton&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;283&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;284&lt;/span&gt;     &lt;span class='c1'&gt;// misc - hide saving throbber and show send button instead&lt;/span&gt;
&lt;span class='lineno'&gt;285&lt;/span&gt;     &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;hideLoader&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;286&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;hide&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;savingThrobber&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;287&lt;/span&gt;         &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;show&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;sendButton&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;288&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;289&lt;/span&gt; 
&lt;span class='lineno'&gt;290&lt;/span&gt;     &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;291&lt;/span&gt;         &lt;span class='nx'&gt;initialize&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;292&lt;/span&gt;             &lt;span class='nx'&gt;createTemplate&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;293&lt;/span&gt;             &lt;span class='nx'&gt;initializeDomElementsReferences&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;294&lt;/span&gt;             &lt;span class='nx'&gt;initializeGUI&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;295&lt;/span&gt;             &lt;span class='nx'&gt;attachListeners&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;296&lt;/span&gt;             &lt;span class='nx'&gt;sendRequest&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;wishlistsLocation&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kc'&gt;null&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;loadWishlists&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;297&lt;/span&gt;         &lt;span class='p'&gt;},&lt;/span&gt;
&lt;span class='lineno'&gt;298&lt;/span&gt; 
&lt;span class='lineno'&gt;299&lt;/span&gt;         &lt;span class='nx'&gt;destroy&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;300&lt;/span&gt;             &lt;span class='nx'&gt;destroy&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;301&lt;/span&gt;         &lt;span class='p'&gt;},&lt;/span&gt;
&lt;span class='lineno'&gt;302&lt;/span&gt; 
&lt;span class='lineno'&gt;303&lt;/span&gt;         &lt;span class='nx'&gt;loadWishlists&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='nx'&gt;activateWhishlistsDropdown&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
&lt;span class='lineno'&gt;304&lt;/span&gt; 
&lt;span class='lineno'&gt;305&lt;/span&gt;         &lt;span class='nx'&gt;itemAdded&lt;/span&gt; &lt;span class='o'&gt;:&lt;/span&gt; &lt;span class='nx'&gt;clearFields&lt;/span&gt;
&lt;span class='lineno'&gt;306&lt;/span&gt;     &lt;span class='p'&gt;};&lt;/span&gt;
&lt;span class='lineno'&gt;307&lt;/span&gt; &lt;span class='p'&gt;}();&lt;/span&gt;
&lt;span class='lineno'&gt;308&lt;/span&gt; 
&lt;span class='lineno'&gt;309&lt;/span&gt; &lt;span class='c1'&gt;// to prevent memory leaks, remove all js &amp;lt;-&amp;gt; dom references, including dom elements references and event listeners&lt;/span&gt;
&lt;span class='lineno'&gt;310&lt;/span&gt; &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;addListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;unload&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='p'&gt;()&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;311&lt;/span&gt;     &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;Bookmarklet&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;destroy&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;312&lt;/span&gt;     &lt;span class='nx'&gt;Dom&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;removeListener&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nb'&gt;window&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;unload&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;arguments&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;callee&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
&lt;span class='lineno'&gt;313&lt;/span&gt; &lt;span class='p'&gt;});&lt;/span&gt;
&lt;span class='lineno'&gt;314&lt;/span&gt; 
&lt;span class='lineno'&gt;315&lt;/span&gt; 
&lt;span class='lineno'&gt;316&lt;/span&gt; &lt;span class='nx'&gt;allThat&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;Bookmarklet&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;initialize&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt; &lt;span class='c1'&gt;// show bookmarklet - this is visual start of the application&lt;/span&gt;
&lt;span class='lineno'&gt;317&lt;/span&gt; 
&lt;span class='lineno'&gt;318&lt;/span&gt; &lt;span class='p'&gt;})();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Примечания&lt;/strong&gt;:&lt;/p&gt;
&lt;ul class='footnotes'&gt;
    &lt;li id='footnotes_wtf'&gt;Вообще скрипт выполнен мной на заказ в рамках моей фрилансерской деятельности, так что не удивляйтесь идее, логотипам и дизайну. &lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Перевод нормальных слов в код</title>
   <link href="http://ulizko.com/posts/329/index.html"/>
   <updated>2009-02-06T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/329/329</id>
   <content type="html">&lt;p&gt;Так, сегодня пришло в голову, решил записать. Не то, чтобы это очень уж смешная штука была, но забавная. Особенно в конце плодотворного рабочего дня :)&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='javascript'&gt;&lt;span class='k'&gt;for&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='kd'&gt;var&lt;/span&gt; &lt;span class='nx'&gt;mate&lt;/span&gt; &lt;span class='k'&gt;in&lt;/span&gt; &lt;span class='nx'&gt;addressBook&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; 
    &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;mate&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;blacklisted&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='c1'&gt;// Ко всем неприятным знакомым:&lt;/span&gt;
        &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;calculateDistance&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;Home&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;getInstance&lt;/span&gt;&lt;span class='p'&gt;().&lt;/span&gt;&lt;span class='nx'&gt;getLatitude&lt;/span&gt;&lt;span class='p'&gt;(),&lt;/span&gt; 
          &lt;span class='nx'&gt;mate&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;getLatitude&lt;/span&gt;&lt;span class='p'&gt;())&lt;/span&gt; &lt;span class='o'&gt;&amp;lt;&lt;/span&gt; &lt;span class='mi'&gt;100&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt; &lt;span class='c1'&gt;// будете проходить мимо -&lt;/span&gt;
            &lt;span class='k'&gt;continue&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt; &lt;span class='c1'&gt;// проходите&lt;/span&gt;
        &lt;span class='p'&gt;}&lt;/span&gt;
    &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='p'&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>И еще про синтаксис JavaScript</title>
   <link href="http://ulizko.com/posts/323/index.html"/>
   <updated>2009-02-06T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/323/323</id>
   <content type="html">&lt;p&gt;Кто о чем, а &lt;span style='text-decoration: line-through;'&gt;вшивый о бане&lt;/span&gt; я о синтаксе в javascript.&lt;/p&gt;

&lt;p&gt;Дело в том, что часто внутри функции нужно проверить, переданы ли правильные параметры и переданы ли вообще. Ну и вот один из самых коротких способов это сделать. Ничего фантастического тут нет, старый и проверенный способ. Кто может что сказать о достоинствах и недостатках этого метода?&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='javascript'&gt;&lt;span class='lineno'&gt;1&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;destroyTheWorld&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;when&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='nx'&gt;byWhom&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;2&lt;/span&gt;     &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='o'&gt;!&lt;/span&gt;&lt;span class='nx'&gt;when&lt;/span&gt;&lt;span class='o'&gt;||!&lt;/span&gt;&lt;span class='nx'&gt;byWhom&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='k'&gt;return&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;fuck off&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;3&lt;/span&gt; &lt;span class='p'&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Если кто не знает, оператор логического отрицания &lt;code&gt;!&lt;/code&gt; в JavaScript вернет &lt;code&gt;true&lt;/code&gt; если ему передан &lt;code&gt;false&lt;/code&gt;, &lt;code&gt;''&lt;/code&gt; (пустая строка), &lt;code&gt;0&lt;/code&gt;, &lt;code&gt;null&lt;/code&gt;, &lt;code&gt;undefined&lt;/code&gt;. Во всех остальных случаях оператор логического отрицания вернет false. На всякий случай, проиллюстрирую:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='javascript'&gt;&lt;span class='o'&gt;!&lt;/span&gt;&lt;span class='mi'&gt;0&lt;/span&gt; &lt;span class='o'&gt;===&lt;/span&gt; &lt;span class='o'&gt;!&lt;/span&gt;&lt;span class='s1'&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;===&lt;/span&gt; &lt;span class='o'&gt;!&lt;/span&gt;&lt;span class='kc'&gt;null&lt;/span&gt; &lt;span class='o'&gt;===&lt;/span&gt; &lt;span class='o'&gt;!&lt;/span&gt;&lt;span class='kc'&gt;undefined&lt;/span&gt; &lt;span class='o'&gt;===&lt;/span&gt; &lt;span class='o'&gt;!&lt;/span&gt;&lt;span class='kc'&gt;false&lt;/span&gt; &lt;span class='o'&gt;===&lt;/span&gt; &lt;span class='kc'&gt;true&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Таким образом, если мы не передали никакого объекта или передали &lt;code&gt;null&lt;/code&gt;, то функция завершит свою работу и вернет в качестве результата нехорошее слово.&lt;/p&gt;

&lt;p&gt;Внимательные люди могут спросить&amp;#160;&amp;#8212; а&amp;#160;что, если передать &lt;code&gt;true&lt;/code&gt;? Функция завершит работу при вполне валидном параметре? Я&amp;#160;могу на&amp;#160;это ответить примерно так: если вы&amp;#160;передаете в&amp;#160;функцию булевую переменную, то&amp;#160;почти наверняка эта переменная&amp;#160;&amp;#8212; рычаг, т.е. в&amp;#160;зависимости от&amp;#160;нее меняется поведение функции. И&amp;#160;обработка аргументов, таким образом, будет вестить несколько другая. Скажем, такая:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='javascript'&gt;&lt;span class='lineno'&gt;1&lt;/span&gt; &lt;span class='kd'&gt;function&lt;/span&gt; &lt;span class='nx'&gt;shouldWeDestroyTheWorld&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;acceptance&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;2&lt;/span&gt;     &lt;span class='k'&gt;if&lt;/span&gt; &lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='nx'&gt;acceptance&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;3&lt;/span&gt;         &lt;span class='nx'&gt;World&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;getInstance&lt;/span&gt;&lt;span class='p'&gt;().&lt;/span&gt;&lt;span class='nx'&gt;destroy&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;4&lt;/span&gt;     &lt;span class='p'&gt;}&lt;/span&gt; &lt;span class='k'&gt;else&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
&lt;span class='lineno'&gt;5&lt;/span&gt;         &lt;span class='nx'&gt;World&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;getInstance&lt;/span&gt;&lt;span class='p'&gt;().&lt;/span&gt;&lt;span class='nx'&gt;armageddon&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s1'&gt;&amp;#39;stopped&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='lineno'&gt;6&lt;/span&gt;         &lt;span class='nx'&gt;World&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;getInstance&lt;/span&gt;&lt;span class='p'&gt;().&lt;/span&gt;&lt;span class='nx'&gt;destructionTimer&lt;/span&gt;&lt;span class='p'&gt;.&lt;/span&gt;&lt;span class='nx'&gt;stop&lt;/span&gt;&lt;span class='p'&gt;();&lt;/span&gt;
&lt;span class='lineno'&gt;7&lt;/span&gt;     &lt;span class='p'&gt;}&lt;/span&gt;
&lt;span class='lineno'&gt;8&lt;/span&gt; &lt;span class='p'&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;И если вы опустите этот аргумент, то по эффекту это будет равнозначно передачи &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Обзор книги: Том Питерс. «Основы. Тренды.»</title>
   <link href="http://ulizko.com/posts/287/index.html"/>
   <updated>2009-01-27T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/287/287</id>
   <content type="html">&lt;p&gt;Выполняя данное самому себе обещание&amp;#160;&amp;#8212; а&amp;#160;именно, читать в&amp;#160;день не&amp;#160;меньше 50&amp;#160;страниц полезной книги, я&amp;#160;вчера я&amp;#160;дочитал книгу &lt;a href='http://www.tompeters.com/'&gt;Тома Питерса&lt;/a&gt; &amp;#171;Основы. Тренды&amp;#187;.&lt;/p&gt;

&lt;p&gt;Если вы читали мою &lt;a href='http://ulizko.com/posts/221/index.html'&gt;предыдущую рецензию&lt;/a&gt; одной из его книг, то вы наверное в курсе, что я являюсь его яростным поклонником, поэтому при чтении этой рецензии стоит иметь это ввиду.&lt;/p&gt;

&lt;p&gt;Как известно, немалую долю в&amp;#160;арсенале фирменных приемчиков Тома Питерса занимает такая штука, как эпатаж&amp;#160;&amp;#8212; в&amp;#160;данном случае под этим словом я&amp;#160;понимаю манеру выкопать какой-нибудь неизвестный факт или неизвестную трактовку факта и&amp;#160;сунуть ее&amp;#160;под нос читателю. У&amp;#160;читателя, который никогда и&amp;#160;не&amp;#160;слышал про такое, произойдет слом шаблона, и&amp;#160;он&amp;#160;станет гораздо податливее для убеждения и&amp;#160;для усвоения того, что говорит сверх-гуру&lt;sup&gt;&lt;a href='#footnotes_super_guru'&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;К&amp;#160;сожалению, а&amp;#160;может быть и&amp;#160;к&amp;#160;счастью, я&amp;#160;уже достаточно давно прочитал замечательную книгу Алана и&amp;#160;Барбары Пиз &amp;#171;Язык взаимоотношений&amp;#187;, поэтому информация о&amp;#160;том, что мужчины и&amp;#160;женщины&amp;#160;&amp;#8212; разные, для меня не&amp;#160;оказалась новостью. Я&amp;#160;и&amp;#160;так в&amp;#160;курсе, что половинки человечества по&amp;#160;разному живут, стареют, воспринимают окружающую действительность, по&amp;#160;разному думают, говорят и&amp;#160;слушают. Ну&amp;#160;и,&amp;#160;что важно знать всем людям, так или иначе завязанным на&amp;#160;бизнес (то&amp;#160;есть всем людям :), они по&amp;#160;разному покупают. Так как я&amp;#160;все это уже знал и,&amp;#160;более того, с&amp;#160;этим уже смирился и,&amp;#160;можно сказать, &amp;#171;грокнул&lt;sup&gt;&lt;a href='#footnotes_grokh'&gt;2&lt;/a&gt;&lt;/sup&gt;&amp;#187; это знание, то&amp;#160;главы, написанные Мартой Барлетта&lt;sup&gt;&lt;a href='#footnotes_marta_barletta'&gt;3&lt;/a&gt;&lt;/sup&gt;, для меня оказались довольно-таки скучным повторением пройденного. Поэтому всех интересующихся почему женщины поступают вот так, а&amp;#160;не&amp;#160;иначе, как с&amp;#160;ними разговаривать и&amp;#160;как они покупают, я&amp;#160;отсылаю на&amp;#160;озон за&amp;#160;книгой &amp;#171;&lt;a href='http://www.ozon.ru/context/detail/id/126499/?partner=aulizko'&gt;Язык взаимоотношений&lt;/a&gt;&amp;#187;.&lt;/p&gt;

&lt;p&gt;Остальные&amp;#160;же главы обращают внимание читателя на&amp;#160;достаточно интересные тенденции, изменяющие облик рынков в&amp;#160;развитых странах. К&amp;#160;моему большому сожалению, еще далеко не&amp;#160;всегда то,&amp;#160;о&amp;#160;чем старина Том пишет, работает для нашей страны, так что чтение скорее даст представление о&amp;#160;том, что надо &lt;em&gt;будет&lt;/em&gt; делать, а&amp;#160;не&amp;#160;о&amp;#160;том, что надо делать &lt;em&gt;сейчас&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Ну&amp;#160;и&amp;#160;по&amp;#160;устоявшейся традиции выкладываю те&amp;#160;выписки, которые я&amp;#160;сделал, читая эту книгу. Как обычно, мысли&amp;#160;&amp;#8212; автора, формат&amp;#160;&amp;#8212; мой: &lt;ul&gt;
&lt;li&gt;Мы (мужчины) подшучиваем над склонностью женщин покупать, при этом мы&amp;nbsp;ведем себя (строим маркетинговую политику, рекламируем, упаковываем, продаем товар) так, будто покупатель&amp;nbsp;&amp;#8212; мужчина.&lt;/li&gt;
&lt;li&gt;Очень часто, даже если женщина не&amp;nbsp;присутствует лично при покупке какой-либо вещи (автомобиля, к&amp;nbsp;примеру), она все равно незримо присутствует&amp;nbsp;&amp;#8212; (она подбивала мужа сходить именно в&amp;nbsp;эти выходные, обсуждала с&amp;nbsp;ним цвет, марку, количество мест и&amp;nbsp;прочее). Так что очень и&amp;nbsp;очень глупо пытаться игнорировать женщин даже в&amp;nbsp;очень и&amp;nbsp;очень &amp;laquo;мужских&amp;raquo; товарах. А&amp;nbsp;уж&amp;nbsp;в&amp;nbsp;остальных товарах прежде всего надо ориентироваться на&amp;nbsp;то,&amp;nbsp;чтобы они понравились женщине. И,&amp;nbsp;кстати, это касается не&amp;nbsp;только товаров, но&amp;nbsp;и&amp;nbsp;услуг, и&amp;nbsp;всего прочего.&lt;/li&gt;
&lt;li&gt;Население в&amp;nbsp;развитых странах стареет. В&amp;nbsp;развитых странах средний возраст непрерывно увеличивается. При этом, эти &amp;laquo;новые старики&amp;raquo;, в&amp;nbsp;отличии от&amp;nbsp;предыдущих поколений, вовсе не&amp;nbsp;настроены пассивно доживать последние годы своей жизни&amp;nbsp;&amp;#8212; напротив, выйдя на&amp;nbsp;пенсию, они только начинают жить и&amp;nbsp;тратить. Следует помнить, что их&amp;nbsp;все больше, что у&amp;nbsp;них активная жизненная позиция, и&amp;nbsp;у&amp;nbsp;них дохрена денег (и&amp;nbsp;их&amp;nbsp;будет все больше). Кстати, женщин среди них тоже больше (мужчины живут меньше), причем богатых женщин (эти женщины как сами заработали состояния, так и&amp;nbsp;унаследовали состояния мужей).&lt;/li&gt;
&lt;/ul&gt;&lt;/p&gt;
&lt;a href='http://www.ozon.ru/context/detail/id/2752879/?partner=aulizko'&gt;&lt;img alt='купить на Озоне книгу Тома Питерса &amp;amp; Марты Барлетта «Основы. Тренды»' width='200' height='376' title='книга Тома Питерса &amp;amp; Марты Барлетта «Основы. Тренды»' src='http://www.ozon.ru/multimedia/books_covers/1000369660.jpg' /&gt;&lt;/a&gt;&lt;a href='http://www.ozon.ru/context/detail/id/126499/?partner=aulizko'&gt;&lt;img alt='купить на Озоне книгу Аллана и Барбары Пиз «Язык взаимоотношений мужчина-женщина»' width='200' height='374' title='книга Аллана и Барбары Пиз «Язык взаимоотношений мужчина-женщина»' src='http://www.ozon.ru/multimedia/books_covers/sd148_05_09_01.jpg' /&gt;&lt;/a&gt;
&lt;p&gt;&lt;strong&gt;Примечания&lt;/strong&gt;: &lt;ul class='footnotes'&gt;
&lt;li id='footnotes_super_guru'&gt;сверх-гуру&amp;nbsp;&amp;#8212; это Том Питерс. По&amp;nbsp;крайней мере его так называют некоторые издания и&amp;nbsp;критики.&lt;/li&gt;
&lt;li id='footnotes_grokh'&gt;грокинг&amp;nbsp;&amp;#8212; термин, придуманный Робертом Хайнлайном. Означает что-то вроде &amp;laquo;впитать знание&amp;raquo;. Подробнее можно прочитать здесь: &lt;a href='http://alternativereality-alias.blogspot.com/2008/01/blog-post_26.html'&gt;http://alternativereality-alias.blogspot.com/2008/01/blog-post_26.html&lt;/a&gt;&lt;/li&gt;
&lt;li id='footnotes_marta_barletta'&gt;Марта Барлетта&amp;nbsp;&amp;#8212; соавтор книги, о&amp;nbsp;которой я&amp;nbsp;тут распинаюсь. Часть глав написана ею.&lt;/li&gt;
&lt;/ul&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>В программисты бы пошел, пусть меня научат</title>
   <link href="http://ulizko.com/posts/267/index.html"/>
   <updated>2009-01-26T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/267/267</id>
   <content type="html">&lt;p&gt;Думаю, я&amp;#160;стал программистом в&amp;#160;основном потому, что в&amp;#160;Нерюнгринской гимназии, в&amp;#160;которой я&amp;#160;учился, был компьютерный класс. И&amp;#160;учительница по&amp;#160;информатике разрешала ребятам оставаться после уроков и&amp;#160;играть в&amp;#160;Duke Nukem 3D,&amp;#160;WarCraft 2&amp;#160;и&amp;#160;прочие времяубивалки. Но&amp;#160;разрешалось посещать кабинет информатики (и&amp;#160;оставаться после уроков) только тем, кто посещал факультет информатики и&amp;#160;решал на&amp;#160;basic&amp;#146;e&amp;#160;разные задачки&amp;#160;&amp;#8212; например, вывести числа от&amp;#160;1&amp;#160;до&amp;#160;256, раскрашенные в&amp;#160;разные цвета спектра, и&amp;#160;прочие чудовищно сложные и&amp;#160;безумно полезные штуки.&lt;/p&gt;

&lt;p&gt;Разумеется, это далеко не&amp;#160;единственная причина и&amp;#160;даже не&amp;#160;причина вовсе&amp;#160;&amp;#8212; это первый толчок в&amp;#160;направлении IT,&amp;#160;и&amp;#160;кто знает, возможно, не&amp;#160;будь его, я&amp;#160;бы стал экономистом, юристом, пекарем, токарем, военным или еще кем-нибудь.&lt;/p&gt;

&lt;p&gt;А&amp;#160;у&amp;#160;вас, дорогие читатели, что повлияло на&amp;#160;выбор будущей профессии?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Камасутра для оратора. Заметки. Глава 1.</title>
   <link href="http://ulizko.com/posts/242/index.html"/>
   <updated>2009-01-23T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/242/242</id>
   <content type="html">&lt;p&gt;Вроде&amp;#160;бы я&amp;#160;еще не&amp;#160;писал о&amp;#160;том, что я&amp;#160;был на&amp;#160;конференции Google Developers Day 2008. Про саму конференцию я&amp;#160;как-нибудь в&amp;#160;другой раз напишу (если напишу вообще, все&amp;#160;ж таки информационный повод не&amp;#160;первой свежести).&lt;/p&gt;

&lt;p&gt;Сегодняшняя же заметка будет вот о чем: на этом самом дне разработчиков посчастливилось мне побывать на выступлении талантливого оратора &lt;a href='http://codinginparadise.org/'&gt;Brad’a Neuberg&lt;/a&gt;’a. И очень сильно мне запало в душу его умение ладить с аудиторией и объяснять простым языком достаточно сложные вещи. На мой взгляд, он вообще один из лучших ораторов, которых я когда либо видел.&lt;/p&gt;

&lt;p&gt;Ну&amp;#160;и&amp;#160;захотелось мне тоже так уметь&amp;#160;&amp;#8212; и&amp;#160;потому, что и&amp;#160;перед аудиторией выступать приходится, и&amp;#160;хочется делать это классно, и&amp;#160;потому, что испытываю я&amp;#160;некий внутренний дискомфорт при общении с&amp;#160;большим количеством народа, что, конечно, неприемлемо. От&amp;#160;такого недостатка надо непременно избавляться.&lt;/p&gt;

&lt;p&gt;По&amp;#160;здравому размышлению я&amp;#160;понял, что делать надо вот что: так как никакой возможности получить какие-либо курсы ораторского мастерства в&amp;#160;нашем городе я&amp;#160;не&amp;#160;нашел (да&amp;#160;и&amp;#160;не&amp;#160;припомню я&amp;#160;хоть сколько-нибудь сравнимых с&amp;#160;Нойбергом&lt;sup&gt;&lt;a href='#note_spell'&gt;1&lt;/a&gt;&lt;/sup&gt; местных ораторов), то&amp;#160;самое правильное в&amp;#160;моей ситуации&amp;#160;&amp;#8212; это прочитать всяких умных книжек и&amp;#160;практиковаться&amp;#160;на &lt;a href='http://javapoint.ru'&gt;кроликах&lt;/a&gt; (благо возможность появляется регулярно&amp;#160;&amp;#8212; всякие там обучающие лекции и&amp;#160;тому подобное).&lt;/p&gt;

&lt;p&gt;Ну, и&amp;#160;скачал я&amp;#160;аудиокнигу &amp;#171;Камасутра для оратора&amp;#187; от&amp;#160;Радислава Гандапаса (надеюсь, его фамилия склоняется). И&amp;#160;неторопливо начал слушать. Ну&amp;#160;и&amp;#160;как водится, для лучшего усвоения материала стал выписывать в&amp;#160;отдельный файлик те&amp;#160;пассажи, которые мне чем-то приглянулись или показались интересными и(ли) новыми. Как обычно, содержание иногда прямиком от&amp;#160;автора, иногда в&amp;#160;моей обработке, мысли&amp;#160;же от&amp;#160;автора без искажений (по&amp;#160;крайней мере, я&amp;#160;надеюсь). Собственно, вот они:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Страх публичного выступления соперничает по&amp;#160;&amp;#171;силе&amp;#187; со&amp;#160;страхом смерти. Может быть ,потому, что человек&amp;#160;&amp;#8212; стадное животное, и&amp;#160;воспринимает каждое публичное выступление как своеобразный экзамен на&amp;#160;то, что он&amp;#160;останется с&amp;#160;этой стаей. В&amp;#160;этом случае, неудачное выступление означает изгнание из&amp;#160;стада, что автоматически означает для стадного животного (в&amp;#160;том числе и&amp;#160;для человека) смерть&amp;#160;&amp;#8212; от&amp;#160;холода, голода и&amp;#160;хищников.&lt;/li&gt;

&lt;li&gt;Субъективное время волнующегося (выступающего) человека идет быстрее обычного. Таким образом, все процессы в&amp;#160;его организме будут идти быстрее. Из-за этого такой человек начнет тараторить (с&amp;#160;точки зрения слушателя) хотя ему его быстрая речь будет казаться нормальной. Чтобы поправить это, можно попробовать перед началом выступления час говорить медленнее, примерно как мальчик с&amp;#160;дефектами умственного развития. Это замедлит темп речи, и, таким образом, во&amp;#160;время&amp;#160;же выступления, с&amp;#160;учетом ускорения темпа речи от&amp;#160;волнения, получится нормальный темп речи.&lt;/li&gt;

&lt;li&gt;Зайки. Если в&amp;#160;зале сидят люди, чье мнение значимо для вас (и&amp;#160;в&amp;#160;связи с&amp;#160;чем вы&amp;#160;испытываете излишнее волнение) или вы&amp;#160;ожидаете от&amp;#160;них каверзных вопросов, попробуйте упражнение от&amp;#160;спецслужб &amp;#171;Зайки&amp;#187;. Суть в&amp;#160;том, за&amp;#160;пять минут до&amp;#160;выступления представить, что вы&amp;#160;будете выступать не&amp;#160;перед людьми, а&amp;#160;перед зайками (очень важно представить их&amp;#160;во&amp;#160;всех деталях&amp;#160;&amp;#8212; белые, пушистые такие зайки, с&amp;#160;розовыми губами и&amp;#160;носами, вплоть до&amp;#160;вен, просвечивающих в&amp;#160;ушах). Также представьте, что, если какие-то зайки будут мешать вашему выступлению, вы&amp;#160;отшлепаете его по&amp;#160;розовой попке, и&amp;#160;он&amp;#160;после этого будет сидеть в&amp;#160;зале и&amp;#160;горько плакать, а&amp;#160;остальные зайки притихнут и&amp;#160;не&amp;#160;будут больше вам мешать. По&amp;#160;идее, должно помочь.&lt;/li&gt;

&lt;li&gt;Неплохо&amp;#160;бы побывать минимум за&amp;#160;сутки на&amp;#160;месте выступления (даже если вы&amp;#160;выступаете не&amp;#160;на&amp;#160;&amp;#171;своем&amp;#187; месте, а&amp;#160;едете куда-то). Походите по&amp;#160;залу, посидите в&amp;#160;зале, посмотрите, как смотрится сцена, попробуйте, как работает оборудование, микрофон, проектер и&amp;#160;прочее. Типа это должно успокоить. Прийти лучше всего первым, раньше любого слушателя&amp;#160;&amp;#8212; это создаст у&amp;#160;вас подсознательное ощущение, что слушатели&amp;#160;&amp;#8212; гости, что сильно поможет во&amp;#160;время выступление.&lt;/li&gt;

&lt;li&gt;Привлеките союзников. Очень неплохо, чтобы в&amp;#160;зале сидели ваши союзники&amp;#160;&amp;#8212; люди, которые вас будут поддерживать и&amp;#160;в&amp;#160;безусловном одобрении которых вы&amp;#160;будете стопроцентно уверены. Если вы&amp;#160;негативно относитесь к&amp;#160;тому, чтобы это были родственники или друзья (скажем, их&amp;#160;присутствие наоборот влияет на&amp;#160;вашу готовность отрицательно), или по&amp;#160;чисто физическим причинам это невозможно (ну, например, вы&amp;#160;выступаете где-нибудь на&amp;#160;конференции, а&amp;#160;они с&amp;#160;вами не&amp;#160;полетели), то&amp;#160;пускай это будет кто-то из&amp;#160;слушателей. Походите перед началом мероприятия/выступления среди людей, пообщайтесь, поинтервьюируйте (привет, Нойберг! :) объясните, что вы&amp;#160;сейчас будете выступать, попросите задать вам вопрос, обменяйтесь визитками. Люди обычно легко идут на&amp;#160;контакт. Особенно хорошо будет, если вы&amp;#160;попросите кого-нибудь помочь вам&amp;#160;&amp;#8212; например, что-нибудь поправить или что-нибудь в&amp;#160;таком духе. После этого, в&amp;#160;зале вы&amp;#160;будете видеть людей, которые смотрят на&amp;#160;вас с&amp;#160;одобрением, зададут вопрос/другой. Это сильно вам поможет. И&amp;#160;вообще, никогда не&amp;#160;знаешь, чем аукнется новое знакомство&amp;#160;&amp;#8212; новым контрактом, женитьбой или просто визиткой, по&amp;#160;номеру на&amp;#160;которой вы&amp;#160;никогда не&amp;#160;позвоните.&lt;/li&gt;

&lt;li&gt;Профессиональный оратор спокойно воспринимает любые итоги своего выступления. После самого провального выступления не&amp;#160;закончится жизнь&amp;#160;&amp;#8212; ни&amp;#160;ваша, ни&amp;#160;на&amp;#160;планете Земля. Просто проанализируйте сегодняшнее выступление. Отметьте, что получилось, что не&amp;#160;получилось, и&amp;#160;почему. Отметьте удачные места, и&amp;#160;то, что вам не&amp;#160;удалось.&lt;/li&gt;

&lt;li&gt;Насчет страха перед выступлением: практически перед всем, что нам сегодня приносит удовольствие, мы&amp;#160;когда-то использовали страх. Управление автомобилем, прыжок с&amp;#160;парашютом, секс и&amp;#160;т.д. и&amp;#160;т.п.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt; &lt;/p&gt;
&lt;a href='http://www.ozon.ru/context/detail/id/2415920/?partner=aulizko'&gt;&lt;img alt='Купить на озоне аудиокнигу Радислава Гандапаса «Камасутра для оратора»' width='200' height='275' title='аудиокнига Радислава Гандапаса «Камасутра для оратора»' src='http://www.ozon.ru/multimedia/books_covers/1000264080.jpg' /&gt;&lt;/a&gt;
&lt;p&gt;&lt;strong&gt;Примечания&lt;/strong&gt;: &lt;ul class='notes'&gt;&lt;li id='note_spell'&gt;Брэд Нойберг (Brad Neuberg) — надеюсь, я правильно транскрибировал его имя.&lt;/li&gt;&lt;/ul&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>jQuery 1.3.1 вышел</title>
   <link href="http://ulizko.com/posts/241/index.html"/>
   <updated>2009-01-22T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/241/241</id>
   <content type="html">&lt;p&gt;&lt;a href='http://blog.jquery.com/2009/01/21/jquery-131-released/'&gt;Сабж&lt;/a&gt;. Не прошло и года, как они догадались, что в итоге &lt;a href='http://dean.edwards.name/packer/'&gt;packer&lt;/a&gt; замедляет общую скорость работы JS на клиенте. Причем, замедление происходит в двух местах:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Распаковка скрипта. Да, eval медленная штука, а&amp;#160;eval таких объемов данных&amp;#160;&amp;#8212; очень медленная штука. В&amp;#160;итоге получается, что &amp;#171;полезный&amp;#187; код начинает работать позже, чем если&amp;#160;бы он&amp;#160;был minified, даже с&amp;#160;учетом того, что уpackованный скрипт загружается быстрее.&lt;/li&gt;

&lt;li&gt;После того, как была такая нагрузка на&amp;#160;движок&amp;#160;JS, и&amp;#160;было занято столько памяти под распаковку, некоторое время движок не&amp;#160;сможет работать в&amp;#160;полную скорость&amp;#160;&amp;#8212; пока не&amp;#160;отработает сборщик мусора, да&amp;#160;и&amp;#160;некоторое количество памяти все равно будет занято под изначальный код скрипта. И&amp;#160;в&amp;#160;итоге и&amp;#160;работать скрипт будет медленнее, если браузер получит его упакованным в&amp;#160;packer.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;О&amp;#160;таких &amp;#171;мелочах&amp;#187;, что уpackованный скрипт в&amp;#160;разы труднее дебажить, и&amp;#160;упоминать не&amp;#160;будем.&lt;/p&gt;

&lt;p&gt;Короче, хорошо, что ребята перешли на использование моего любимого &lt;a href='http://developer.yahoo.com/yui/compressor/'&gt;YUI Compressor&lt;/a&gt;&amp;#8216;a. Вообще, мне полагается сейчас скакать до потолка с криками &amp;#8220;А я ведь говорил, я знал, я ЗНАЛ!&amp;#8221;. Но, так как письменных свидетельств того, что я уже неоднократно негативно высказывался об упаковке JS packer&amp;#8217;ом не осталось (кроме как в асечных логах), то придется скромно промолчать :)&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Обзор книги: Том Питерс. «Основы. Талант.»</title>
   <link href="http://ulizko.com/posts/221/index.html"/>
   <updated>2008-12-19T00:00:00+03:00</updated>
   <id>http://ulizko.com/posts/221/221</id>
   <content type="html">&lt;a href='http://www.ozon.ru/context/detail/id/2752868/?partner=aulizko'&gt;&lt;img alt='Купить на Озоне книгу Тома Питерса «Основы. Талант».' width='200' height='372' title='Том Питерс. Основы. Талант' src='http://www.ozon.ru/multimedia/books_covers/1000369659.jpg' /&gt;&lt;/a&gt;
&lt;p&gt;Прочитал сегодня маленькую, но&amp;#160;очень и&amp;#160;очень классную книжку от&amp;#160;&amp;#171;сверх-гуру&amp;#187; &lt;a href='http://tompeters.com'&gt;Тома Питерса&lt;/a&gt;, называется &amp;#171;Основы. Талант&amp;#187;.&lt;/p&gt;

&lt;p&gt;Это &lt;em&gt;правильная&lt;/em&gt; книга. Книга, которую стоит читать. Она изменила меня&amp;#160;&amp;#8212; во&amp;#160;время чтения я&amp;#160;прямо чувствовал, как что-то во&amp;#160;мне сдвигается, меняется, выпрямляется.&lt;/p&gt;

&lt;p&gt;Ну&amp;#160;и&amp;#160;помимо мозговпрямляющего эффекта, Том нехило мотивирует&amp;#160;&amp;#8212; после чтения так и&amp;#160;хочется вскочить и&amp;#160;побежать что-нибудь делать. Делать &lt;em&gt;великое&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Отдельной строкой надо отметить дизайн&amp;#160;&amp;#8212; книгу интересно читать, разглядывать, держать в&amp;#160;руках.&lt;/p&gt;

&lt;p&gt;Чтение даже побудило меня выписать самые ценные (на&amp;#160;мой, разумеется, взгляд) мысли в&amp;#160;отдельную заметку (мысли&amp;#160;&amp;#8212; Питерса, стиль и&amp;#160;изложение зачастую мои):&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Стоит делать что-то, заведомо обреченное на&amp;#160;неудачу. И&amp;#160;убедить всех (и&amp;#160;коллег) в&amp;#160;том, что вы&amp;#160;обречены на&amp;#160;успех. Почему это работает? Потому что если вы&amp;#160;собираетесь сделать что-то, нацеленное на&amp;#160;успех, значит, вы&amp;#160;будете ориентироваться на&amp;#160;успешных игроков. А&amp;#160;значит, повторять&amp;#160;то, что уже и&amp;#160;без вас делают. А&amp;#160;значит, ни&amp;#160;на&amp;#160;какой оглушительный успех вы&amp;#160;рассчитывать не&amp;#160;можете.&lt;/li&gt;

&lt;li&gt;Идиоты продают Ролекс. Гении продают образ жизни с&amp;#160;Ролексом.&lt;/li&gt;

&lt;li&gt;В&amp;#160;конечном итоге, только продажа определяет, успешен или нет проект. А&amp;#160;значит, каждый в&amp;#160;наше время на&amp;#160;полную ставку работает в&amp;#160;отделе продаж. Продавайте &amp;#171;изнутри&amp;#187; (проект&amp;#160;&amp;#8212; своим коллегам, начальству), продавайте &amp;#171;снаружи&amp;#187; (ощущения&amp;#160;&amp;#8212; клиенту), продавайте себя (вы&amp;#160;&amp;#8212; бренд).&lt;/li&gt;

&lt;li&gt;Нанимайте людей, которые смотрят на&amp;#160;мир иначе, чем&amp;#160;вы. Зачастую они вам будут неприятны, у&amp;#160;вас не&amp;#160;будет к&amp;#160;ним симпатии, но&amp;#160;именно они, их&amp;#160;странности, приведут ваш проект к&amp;#160;успеху. Вам нужны люди, которые смотрят на&amp;#160;вещи с&amp;#160;другой стороны.&lt;/li&gt;

&lt;li&gt;Будете водиться с&amp;#160;чудаками&amp;#160;&amp;#8212; станете чудаком. Будете водиться с&amp;#160;занудами&amp;#160;&amp;#8212; станете занудами&amp;#8230;&lt;/li&gt;

&lt;li&gt;Вещи, которые изменяют мир, всегда появляются с&amp;#160;черного входа.&lt;/li&gt;

&lt;li&gt;Тупые конкуренты&amp;#160;&amp;#8212; тупой&amp;#160;вы. Классные конкуренты&amp;#160;&amp;#8212; классный&amp;#160;вы. * Почтенные компании отторгают энтузиастов.&lt;/li&gt;

&lt;li&gt;Классная метафора&amp;#160;&amp;#8212; &amp;#171;Гигансткие поглощения (имеется ввиду приобретения одной корпорацией другой) == спаривание динозавров&amp;#187;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 
</feed>